(()=>{var a={};a.id=841,a.ids=[841],a.modules={261:a=>{"use strict";a.exports=require("next/dist/shared/lib/router/utils/app-paths")},3295:a=>{"use strict";a.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:a=>{"use strict";a.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11723:a=>{"use strict";a.exports=require("querystring")},12412:a=>{"use strict";a.exports=require("assert")},19424:(a,b,c)=>{"use strict";c.d(b,{N:()=>Q});var d={};c.r(d),c.d(d,{agencies:()=>C,auditLogs:()=>G,clients:()=>z,documentTypes:()=>A,documents:()=>B,filingTypes:()=>D,filings:()=>E,metrics:()=>H,notifications:()=>I,organizations:()=>y,sessions:()=>x,tasks:()=>F,users:()=>w});var e=c(82043),f=c(75783),g=c(53811),h=c(29662),i=c(25435),j=c(49122),k=c(29205),l=c(62352),m=c(67969),n=c(57789),o=c(29745),p=c(4396),q=c(65828),r=c(94728),s=c(84266),t=c(66587),u=c(72965);let v={id:(0,k.uR)("id").defaultRandom().primaryKey(),createdAt:(0,l.vE)("created_at").defaultNow().notNull(),updatedAt:(0,l.vE)("updated_at").defaultNow().notNull()},w=(0,m.cJ)("users",{...v,email:(0,n.yf)("email",{length:255}).notNull().unique(),firstName:(0,n.yf)("first_name",{length:100}).notNull(),lastName:(0,n.yf)("last_name",{length:100}).notNull(),avatar:(0,o.Qq)("avatar"),role:(0,n.yf)("role",{length:50}).notNull().default("viewer"),isActive:(0,p.zM)("is_active").notNull().default(!0),lastLoginAt:(0,l.vE)("last_login_at"),organizationId:(0,k.uR)("organization_id").references(()=>y.id)},a=>({emailIdx:(0,q.Pe)("users_email_idx").on(a.email),organizationIdx:(0,q.Pe)("users_organization_idx").on(a.organizationId)})),x=(0,m.cJ)("sessions",{id:(0,o.Qq)("id").primaryKey(),userId:(0,k.uR)("user_id").notNull().references(()=>w.id,{onDelete:"cascade"}),expiresAt:(0,l.vE)("expires_at",{withTimezone:!0}).notNull(),ipAddress:(0,n.yf)("ip_address",{length:45}),userAgent:(0,o.Qq)("user_agent")},a=>({userIdx:(0,q.Pe)("sessions_user_idx").on(a.userId)})),y=(0,m.cJ)("organizations",{...v,name:(0,n.yf)("name",{length:255}).notNull(),slug:(0,n.yf)("slug",{length:100}).notNull().unique(),logo:(0,o.Qq)("logo"),website:(0,o.Qq)("website"),industry:(0,n.yf)("industry",{length:100}),companySize:(0,n.yf)("company_size",{length:50}),country:(0,n.yf)("country",{length:100}).notNull().default("Guyana"),settings:(0,r.Fx)("settings").default({}),subscriptionTier:(0,n.yf)("subscription_tier",{length:50}).default("starter"),isActive:(0,p.zM)("is_active").notNull().default(!0)},a=>({slugIdx:(0,q.Pe)("organizations_slug_idx").on(a.slug)})),z=(0,m.cJ)("clients",{...v,organizationId:(0,k.uR)("organization_id").notNull().references(()=>y.id),type:(0,n.yf)("type",{length:50}).notNull(),firstName:(0,n.yf)("first_name",{length:100}),lastName:(0,n.yf)("last_name",{length:100}),companyName:(0,n.yf)("company_name",{length:255}),email:(0,n.yf)("email",{length:255}),phone:(0,n.yf)("phone",{length:50}),tinNumber:(0,n.yf)("tin_number",{length:50}),nisNumber:(0,n.yf)("nis_number",{length:50}),address:(0,r.Fx)("address").default({}),status:(0,n.yf)("status",{length:50}).notNull().default("active"),riskLevel:(0,n.yf)("risk_level",{length:50}).default("medium"),complianceScore:(0,s.nd)("compliance_score").default(0),notes:(0,o.Qq)("notes"),tags:(0,r.Fx)("tags").default([])},a=>({organizationIdx:(0,q.Pe)("clients_organization_idx").on(a.organizationId),tinIdx:(0,q.Pe)("clients_tin_idx").on(a.tinNumber),emailIdx:(0,q.Pe)("clients_email_idx").on(a.email),statusIdx:(0,q.Pe)("clients_status_idx").on(a.status)})),A=(0,m.cJ)("document_types",{...v,organizationId:(0,k.uR)("organization_id").references(()=>y.id),name:(0,n.yf)("name",{length:255}).notNull(),category:(0,n.yf)("category",{length:100}).notNull(),description:(0,o.Qq)("description"),requiredFor:(0,r.Fx)("required_for").default([]),expiryPeriod:(0,s.nd)("expiry_period"),isSystemType:(0,p.zM)("is_system_type").default(!1),validationRules:(0,r.Fx)("validation_rules").default({})},a=>({organizationIdx:(0,q.Pe)("document_types_organization_idx").on(a.organizationId),categoryIdx:(0,q.Pe)("document_types_category_idx").on(a.category)})),B=(0,m.cJ)("documents",{...v,clientId:(0,k.uR)("client_id").notNull().references(()=>z.id),typeId:(0,k.uR)("type_id").notNull().references(()=>A.id),title:(0,n.yf)("title",{length:255}).notNull(),fileName:(0,n.yf)("file_name",{length:255}).notNull(),fileSize:(0,s.nd)("file_size").notNull(),mimeType:(0,n.yf)("mime_type",{length:100}).notNull(),fileUrl:(0,o.Qq)("file_url").notNull(),status:(0,n.yf)("status",{length:50}).notNull().default("active"),issueDate:(0,l.vE)("issue_date"),expiryDate:(0,l.vE)("expiry_date"),issuingAuthority:(0,n.yf)("issuing_authority",{length:255}),version:(0,s.nd)("version").notNull().default(1),extractedText:(0,o.Qq)("extracted_text"),metadata:(0,r.Fx)("metadata").default({}),tags:(0,r.Fx)("tags").default([])},a=>({clientIdx:(0,q.Pe)("documents_client_idx").on(a.clientId),typeIdx:(0,q.Pe)("documents_type_idx").on(a.typeId),statusIdx:(0,q.Pe)("documents_status_idx").on(a.status),expiryIdx:(0,q.Pe)("documents_expiry_idx").on(a.expiryDate)})),C=(0,m.cJ)("agencies",{id:(0,n.yf)("id",{length:50}).primaryKey(),name:(0,n.yf)("name",{length:255}).notNull(),category:(0,n.yf)("category",{length:100}).notNull(),description:(0,o.Qq)("description"),website:(0,o.Qq)("website"),contactInfo:(0,r.Fx)("contact_info").default({}),priority:(0,s.nd)("priority").default(0),isActive:(0,p.zM)("is_active").notNull().default(!0)},a=>({categoryIdx:(0,q.Pe)("agencies_category_idx").on(a.category)})),D=(0,m.cJ)("filing_types",{...v,organizationId:(0,k.uR)("organization_id").references(()=>y.id),agencyId:(0,n.yf)("agency_id",{length:50}).notNull().references(()=>C.id),name:(0,n.yf)("name",{length:255}).notNull(),description:(0,o.Qq)("description"),frequency:(0,n.yf)("frequency",{length:50}).notNull(),dueDay:(0,s.nd)("due_day"),gracePeriod:(0,s.nd)("grace_period").default(0),penaltyRate:(0,t._)("penalty_rate",{precision:5,scale:4}).default("0.0000"),formTemplate:(0,r.Fx)("form_template").default({}),requiredDocuments:(0,r.Fx)("required_documents").default([]),calculationRules:(0,r.Fx)("calculation_rules").default({})},a=>({organizationIdx:(0,q.Pe)("filing_types_organization_idx").on(a.organizationId),agencyIdx:(0,q.Pe)("filing_types_agency_idx").on(a.agencyId),frequencyIdx:(0,q.Pe)("filing_types_frequency_idx").on(a.frequency)})),E=(0,m.cJ)("filings",{...v,clientId:(0,k.uR)("client_id").notNull().references(()=>z.id),filingTypeId:(0,k.uR)("filing_type_id").notNull().references(()=>D.id),period:(0,n.yf)("period",{length:50}).notNull(),dueDate:(0,l.vE)("due_date").notNull(),submittedDate:(0,l.vE)("submitted_date"),status:(0,n.yf)("status",{length:50}).notNull().default("pending"),amount:(0,t._)("amount",{precision:15,scale:2}),penalty:(0,t._)("penalty",{precision:15,scale:2}).default("0.00"),formData:(0,r.Fx)("form_data").default({}),attachedDocuments:(0,r.Fx)("attached_documents").default([]),submissionReference:(0,n.yf)("submission_reference",{length:255}),notes:(0,o.Qq)("notes")},a=>({clientIdx:(0,q.Pe)("filings_client_idx").on(a.clientId),typeIdx:(0,q.Pe)("filings_type_idx").on(a.filingTypeId),statusIdx:(0,q.Pe)("filings_status_idx").on(a.status),dueIdx:(0,q.Pe)("filings_due_date_idx").on(a.dueDate),periodIdx:(0,q.Pe)("filings_period_idx").on(a.period)})),F=(0,m.cJ)("tasks",{...v,organizationId:(0,k.uR)("organization_id").notNull().references(()=>y.id),clientId:(0,k.uR)("client_id").references(()=>z.id),assignedTo:(0,k.uR)("assigned_to").references(()=>w.id),title:(0,n.yf)("title",{length:255}).notNull(),description:(0,o.Qq)("description"),priority:(0,n.yf)("priority",{length:50}).notNull().default("medium"),status:(0,n.yf)("status",{length:50}).notNull().default("todo"),category:(0,n.yf)("category",{length:100}),dueDate:(0,l.vE)("due_date"),completedAt:(0,l.vE)("completed_at"),estimatedHours:(0,t._)("estimated_hours",{precision:4,scale:2}),actualHours:(0,t._)("actual_hours",{precision:4,scale:2}),tags:(0,r.Fx)("tags").default([]),metadata:(0,r.Fx)("metadata").default({})},a=>({organizationIdx:(0,q.Pe)("tasks_organization_idx").on(a.organizationId),clientIdx:(0,q.Pe)("tasks_client_idx").on(a.clientId),assignedIdx:(0,q.Pe)("tasks_assigned_idx").on(a.assignedTo),statusIdx:(0,q.Pe)("tasks_status_idx").on(a.status),dueIdx:(0,q.Pe)("tasks_due_date_idx").on(a.dueDate)})),G=(0,m.cJ)("audit_logs",{...v,organizationId:(0,k.uR)("organization_id").notNull().references(()=>y.id),userId:(0,k.uR)("user_id").references(()=>w.id),action:(0,n.yf)("action",{length:100}).notNull(),resource:(0,n.yf)("resource",{length:100}).notNull(),resourceId:(0,n.yf)("resource_id",{length:255}),details:(0,r.Fx)("details").default({}),ipAddress:(0,n.yf)("ip_address",{length:45}),userAgent:(0,o.Qq)("user_agent")},a=>({organizationIdx:(0,q.Pe)("audit_logs_organization_idx").on(a.organizationId),userIdx:(0,q.Pe)("audit_logs_user_idx").on(a.userId),actionIdx:(0,q.Pe)("audit_logs_action_idx").on(a.action),resourceIdx:(0,q.Pe)("audit_logs_resource_idx").on(a.resource),createdIdx:(0,q.Pe)("audit_logs_created_idx").on(a.createdAt)})),H=(0,m.cJ)("metrics",{...v,organizationId:(0,k.uR)("organization_id").notNull().references(()=>y.id),metric:(0,n.yf)("metric",{length:100}).notNull(),value:(0,t._)("value",{precision:15,scale:4}).notNull(),dimensions:(0,r.Fx)("dimensions").default({}),timestamp:(0,l.vE)("timestamp").notNull()},a=>({organizationIdx:(0,q.Pe)("metrics_organization_idx").on(a.organizationId),metricIdx:(0,q.Pe)("metrics_metric_idx").on(a.metric),timestampIdx:(0,q.Pe)("metrics_timestamp_idx").on(a.timestamp),uniqueMetric:(0,u.Am)("metrics_unique").on(a.organizationId,a.metric,a.timestamp)})),I=(0,m.cJ)("notifications",{...v,organizationId:(0,k.uR)("organization_id").notNull().references(()=>y.id),userId:(0,k.uR)("user_id").references(()=>w.id),type:(0,n.yf)("type",{length:50}).notNull(),title:(0,n.yf)("title",{length:255}).notNull(),message:(0,o.Qq)("message").notNull(),data:(0,r.Fx)("data").default({}),isRead:(0,p.zM)("is_read").notNull().default(!1),readAt:(0,l.vE)("read_at"),priority:(0,n.yf)("priority",{length:50}).default("normal")},a=>({organizationIdx:(0,q.Pe)("notifications_organization_idx").on(a.organizationId),userIdx:(0,q.Pe)("notifications_user_idx").on(a.userId),typeIdx:(0,q.Pe)("notifications_type_idx").on(a.type),isReadIdx:(0,q.Pe)("notifications_is_read_idx").on(a.isRead)})),J=globalThis.conn??(0,j.A)(process.env.DATABASE_URL),K=(0,i.f)(J,{schema:d});var L=c(31375);let M=(0,m.cJ)("users",{id:(0,o.Qq)("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),name:(0,o.Qq)("name"),email:(0,o.Qq)("email").notNull(),emailVerified:(0,l.vE)("emailVerified",{mode:"date"}),image:(0,o.Qq)("image")}),N=(0,m.cJ)("accounts",{userId:(0,o.Qq)("userId").notNull().references(()=>M.id,{onDelete:"cascade"}),type:(0,o.Qq)("type").$type().notNull(),provider:(0,o.Qq)("provider").notNull(),providerAccountId:(0,o.Qq)("providerAccountId").notNull(),refresh_token:(0,o.Qq)("refresh_token"),access_token:(0,o.Qq)("access_token"),expires_at:(0,s.nd)("expires_at"),token_type:(0,o.Qq)("token_type"),scope:(0,o.Qq)("scope"),id_token:(0,o.Qq)("id_token"),session_state:(0,o.Qq)("session_state")},a=>({compoundKey:(0,L.ie)({columns:[a.provider,a.providerAccountId]})})),O=(0,m.cJ)("sessions",{sessionToken:(0,o.Qq)("sessionToken").notNull().primaryKey(),userId:(0,o.Qq)("userId").notNull().references(()=>M.id,{onDelete:"cascade"}),expires:(0,l.vE)("expires",{mode:"date"}).notNull()}),P=(0,m.cJ)("verificationTokens",{identifier:(0,o.Qq)("identifier").notNull(),token:(0,o.Qq)("token").notNull(),expires:(0,l.vE)("expires",{mode:"date"}).notNull()},a=>({compoundKey:(0,L.ie)({columns:[a.identifier,a.token]})})),Q={callbacks:{session:({session:a,user:b})=>({...a,user:{...a.user,id:b.id}})},adapter:(0,e._)(K,{usersTable:M,accountsTable:N,sessionsTable:O,verificationTokensTable:P}),providers:[(0,f.A)({clientId:process.env.GOOGLE_CLIENT_ID??"",clientSecret:process.env.GOOGLE_CLIENT_SECRET??""}),(0,g.A)({clientId:process.env.GITHUB_CLIENT_ID??"",clientSecret:process.env.GITHUB_CLIENT_SECRET??""}),(0,h.A)({server:{host:process.env.EMAIL_SERVER_HOST,port:process.env.EMAIL_SERVER_PORT,auth:{user:process.env.EMAIL_SERVER_USER,pass:process.env.EMAIL_SERVER_PASSWORD}},from:process.env.EMAIL_FROM})],pages:{signIn:"/auth/signin",error:"/auth/error"},session:{strategy:"database"}}},21820:a=>{"use strict";a.exports=require("os")},27910:a=>{"use strict";a.exports=require("stream")},28354:a=>{"use strict";a.exports=require("util")},29021:a=>{"use strict";a.exports=require("fs")},29294:a=>{"use strict";a.exports=require("next/dist/server/app-render/work-async-storage.external.js")},34631:a=>{"use strict";a.exports=require("tls")},44870:a=>{"use strict";a.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},55511:a=>{"use strict";a.exports=require("crypto")},55591:a=>{"use strict";a.exports=require("https")},63033:a=>{"use strict";a.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},66834:()=>{},74075:a=>{"use strict";a.exports=require("zlib")},74998:a=>{"use strict";a.exports=require("perf_hooks")},78335:()=>{},79428:a=>{"use strict";a.exports=require("buffer")},79551:a=>{"use strict";a.exports=require("url")},81630:a=>{"use strict";a.exports=require("http")},86439:a=>{"use strict";a.exports=require("next/dist/shared/lib/no-fallback-error.external")},88452:(a,b,c)=>{"use strict";let d,e;c.r(b),c.d(b,{handler:()=>dJ,patchFetch:()=>dI,routeModule:()=>dE,serverHooks:()=>dH,workAsyncStorage:()=>dF,workUnitAsyncStorage:()=>dG});var f,g,h,i,j,k,l,m,n,o={};c.r(o),c.d(o,{GET:()=>dD,POST:()=>dD});var p=c(95736),q=c(9117),r=c(4044),s=c(39326),t=c(32324),u=c(261),v=c(54290),w=c(85328),x=c(38928),y=c(46595),z=c(3421),A=c(17679),B=c(41681),C=c(63446),D=c(86439),E=c(51356);let F={PARSE_ERROR:-32700,BAD_REQUEST:-32600,INTERNAL_SERVER_ERROR:-32603,NOT_IMPLEMENTED:-32603,BAD_GATEWAY:-32603,SERVICE_UNAVAILABLE:-32603,GATEWAY_TIMEOUT:-32603,UNAUTHORIZED:-32001,PAYMENT_REQUIRED:-32002,FORBIDDEN:-32003,NOT_FOUND:-32004,METHOD_NOT_SUPPORTED:-32005,TIMEOUT:-32008,CONFLICT:-32009,PRECONDITION_FAILED:-32012,PAYLOAD_TOO_LARGE:-32013,UNSUPPORTED_MEDIA_TYPE:-32015,UNPROCESSABLE_CONTENT:-32022,PRECONDITION_REQUIRED:-32028,TOO_MANY_REQUESTS:-32029,CLIENT_CLOSED_REQUEST:-32099},G={[-32700]:"PARSE_ERROR",[-32600]:"BAD_REQUEST",[-32603]:"INTERNAL_SERVER_ERROR",[-32001]:"UNAUTHORIZED",[-32002]:"PAYMENT_REQUIRED",[-32003]:"FORBIDDEN",[-32004]:"NOT_FOUND",[-32005]:"METHOD_NOT_SUPPORTED",[-32008]:"TIMEOUT",[-32009]:"CONFLICT",[-32012]:"PRECONDITION_FAILED",[-32013]:"PAYLOAD_TOO_LARGE",[-32015]:"UNSUPPORTED_MEDIA_TYPE",[-32022]:"UNPROCESSABLE_CONTENT",[-32028]:"PRECONDITION_REQUIRED",[-32029]:"TOO_MANY_REQUESTS",[-32099]:"CLIENT_CLOSED_REQUEST"};function H(a,...b){let c=Object.assign(Object.create(null),a);for(let a of b)for(let b in a){if(b in c&&c[b]!==a[b])throw Error(`Duplicate key ${b}`);c[b]=a[b]}return c}function I(a){return!!a&&!Array.isArray(a)&&"object"==typeof a}function J(a){return"function"==typeof a}function K(a){return Object.assign(Object.create(null),a)}F.BAD_GATEWAY,F.SERVICE_UNAVAILABLE,F.GATEWAY_TIMEOUT,F.INTERNAL_SERVER_ERROR;let L="function"==typeof Symbol&&!!Symbol.asyncIterator;function M(a){return L&&I(a)&&Symbol.asyncIterator in a}let N=a=>a();function O(a){return a}var P=Object.create,Q=Object.defineProperty,R=Object.getOwnPropertyDescriptor,S=Object.getOwnPropertyNames,T=Object.getPrototypeOf,U=Object.prototype.hasOwnProperty,V=(a,b)=>function(){return b||(0,a[S(a)[0]])((b={exports:{}}).exports,b),b.exports},W=(a,b,c)=>(c=null!=a?P(T(a)):{},((a,b,c,d)=>{if(b&&"object"==typeof b||"function"==typeof b)for(var e,f=S(b),g=0,h=f.length;g<h;g++)e=f[g],U.call(a,e)||e===c||Q(a,e,{get:(a=>b[a]).bind(null,e),enumerable:!(d=R(b,e))||d.enumerable});return a})(!b&&a&&a.__esModule?c:Q(c,"default",{value:a,enumerable:!0}),a));let X=()=>{},Y=a=>{Object.freeze&&Object.freeze(a)},Z={PARSE_ERROR:400,BAD_REQUEST:400,UNAUTHORIZED:401,PAYMENT_REQUIRED:402,FORBIDDEN:403,NOT_FOUND:404,METHOD_NOT_SUPPORTED:405,TIMEOUT:408,CONFLICT:409,PRECONDITION_FAILED:412,PAYLOAD_TOO_LARGE:413,UNSUPPORTED_MEDIA_TYPE:415,UNPROCESSABLE_CONTENT:422,PRECONDITION_REQUIRED:428,TOO_MANY_REQUESTS:429,CLIENT_CLOSED_REQUEST:499,INTERNAL_SERVER_ERROR:500,NOT_IMPLEMENTED:501,BAD_GATEWAY:502,SERVICE_UNAVAILABLE:503,GATEWAY_TIMEOUT:504};function $(a){var b;return null!=(b=Z[a])?b:500}var _=V({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/typeof.js"(a,b){function c(a){return b.exports=c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},b.exports.__esModule=!0,b.exports.default=b.exports,c(a)}b.exports=c,b.exports.__esModule=!0,b.exports.default=b.exports}}),aa=V({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/toPrimitive.js"(a,b){var c=_().default;b.exports=function(a,b){if("object"!=c(a)||!a)return a;var d=a[Symbol.toPrimitive];if(void 0!==d){var e=d.call(a,b||"default");if("object"!=c(e))return e;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)},b.exports.__esModule=!0,b.exports.default=b.exports}}),ab=V({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/toPropertyKey.js"(a,b){var c=_().default,d=aa();b.exports=function(a){var b=d(a,"string");return"symbol"==c(b)?b:b+""},b.exports.__esModule=!0,b.exports.default=b.exports}}),ac=V({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/defineProperty.js"(a,b){var c=ab();b.exports=function(a,b,d){return(b=c(b))in a?Object.defineProperty(a,b,{value:d,enumerable:!0,configurable:!0,writable:!0}):a[b]=d,a},b.exports.__esModule=!0,b.exports.default=b.exports}}),ad=V({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/objectSpread2.js"(a,b){var c=ac();function d(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}b.exports=function(a){for(var b=1;b<arguments.length;b++){var e=null!=arguments[b]?arguments[b]:{};b%2?d(Object(e),!0).forEach(function(b){c(a,b,e[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(e)):d(Object(e)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(e,b))})}return a},b.exports.__esModule=!0,b.exports.default=b.exports}}),ae=W(ad(),1);function af(a){let{path:b,error:c,config:d}=a,{code:e}=a.error,f={message:c.message,code:F[e],data:{code:e,httpStatus:$(c.code)}};return d.isDev&&"string"==typeof a.error.stack&&(f.data.stack=a.error.stack),"string"==typeof b&&(f.data.path=b),d.errorFormatter((0,ae.default)((0,ae.default)({},a),{},{shape:f}))}let ag=({shape:a})=>a;var ah=W(ac(),1),ai=class extends Error{};function aj(a){if(a instanceof ak||a instanceof Error&&"TRPCError"===a.name)return a;let b=new ak({code:"INTERNAL_SERVER_ERROR",cause:a});return a instanceof Error&&a.stack&&(b.stack=a.stack),b}var ak=class extends Error{constructor(a){var b,c;let d=function(a){if(a instanceof Error)return a;let b=typeof a;if("undefined"!==b&&"function"!==b&&null!==a){if("object"!==b)return Error(String(a));if(I(a))return Object.assign(new ai,a)}}(a.cause);super(null!=(b=null!=(c=a.message)?c:null==d?void 0:d.message)?b:a.code,{cause:d}),(0,ah.default)(this,"cause",void 0),(0,ah.default)(this,"code",void 0),this.code=a.code,this.name="TRPCError",null!=this.cause||(this.cause=d)}},al=W(ad(),1);let am={input:{serialize:a=>a,deserialize:a=>a},output:{serialize:a=>a,deserialize:a=>a}};function an(a,b){return"error"in b?(0,al.default)((0,al.default)({},b),{},{error:a.transformer.output.serialize(b.error)}):"data"in b.result?(0,al.default)((0,al.default)({},b),{},{result:(0,al.default)((0,al.default)({},b.result),{},{data:a.transformer.output.serialize(b.result.data)})}):b}function ao(a,b){return Array.isArray(b)?b.map(b=>an(a,b)):an(a,b)}var ap=W(ad(),1);let aq={_ctx:null,_errorShape:null,_meta:null,queries:{},mutations:{},subscriptions:{},errorFormatter:ag,transformer:am},ar=["then","call","apply"];function as(a){return function(b){let c=new Set(Object.keys(b).filter(a=>ar.includes(a)));if(c.size>0)throw Error("Reserved words used in `router({})` call: "+Array.from(c).join(", "));let d=K({}),e=K({}),f=function a(b,c=[]){let f=K({});for(let[g,h]of Object.entries(null!=b?b:{})){if("function"==typeof h&&"lazyMarker"in h){e[[...c,g].join(".")]=function b(c){return{ref:c.ref,load:function(a){let b=Symbol(),c=b;return()=>(c===b&&(c=a()),c)}(async()=>{let d=await c.ref(),f=[...c.path,c.key],g=f.join(".");for(let[h,i]of(c.aggregate[c.key]=a(d._def.record,f),delete e[g],Object.entries(d._def.lazy)))e[[...f,h].join(".")]=b({ref:i.ref,path:f,key:h,aggregate:c.aggregate[c.key]})})}}({path:c,ref:h,key:g,aggregate:f});continue}if(I(h)&&I(h._def)&&"router"in h._def){f[g]=a(h._def.record,[...c,g]);continue}if("function"!=typeof h){f[g]=a(h,[...c,g]);continue}let b=[...c,g].join(".");if(d[b])throw Error(`Duplicate key: ${b}`);d[b]=h,f[g]=h}return f}(b),g=(0,ap.default)((0,ap.default)({_config:a,router:!0,procedures:d,lazy:e},aq),{},{record:f});return(0,ap.default)((0,ap.default)({},f),{},{_def:g,createCaller:au()({_def:g})})}}async function at(a,b){let{_def:c}=a,d=c.procedures[b];for(;!d;){let a=Object.keys(c.lazy).find(a=>b.startsWith(a));if(!a)return null;let e=c.lazy[a];await e.load(),d=c.procedures[b]}return d}function au(){return function(a){let{_def:b}=a;return function(c,d){return function a(b,c,d){let e=c.join(".");return null!=d[e]||(d[e]=new Proxy(X,{get(e,f){if("string"==typeof f&&"then"!==f)return a(b,[...c,f],d)},apply(a,d,e){let f=c[c.length-1],g={args:e,path:c};return"call"===f?g={args:e.length>=2?[e[1]]:[],path:c.slice(0,-1)}:"apply"===f&&(g={args:e.length>=2?e[1]:[],path:c.slice(0,-1)}),Y(g.args),Y(g.path),b(g)}})),d[e]}(async e=>{let f,{path:g,args:h}=e,i=g.join(".");if(1===g.length&&"_def"===g[0])return b;let j=await at(a,i);try{if(!j)throw new ak({code:"NOT_FOUND",message:`No procedure found on path "${g}"`});return f=J(c)?await Promise.resolve(c()):c,await j({path:i,getRawInput:async()=>h[0],ctx:f,type:j._def.type,signal:null==d?void 0:d.signal})}catch(a){var k,l;throw null==d||null==(k=d.onError)||k.call(d,{ctx:f,error:aj(a),input:h[0],path:i,type:null!=(l=null==j?void 0:j._def.type)?l:"unknown"}),a}},[],Object.create(null))}}}function av(...a){var b;let c=H({},...a.map(a=>a._def.record));return as({errorFormatter:a.reduce((a,b)=>{if(b._def._config.errorFormatter&&b._def._config.errorFormatter!==ag){if(a!==ag&&a!==b._def._config.errorFormatter)throw Error("You seem to have several error formatters");return b._def._config.errorFormatter}return a},ag),transformer:a.reduce((a,b)=>{if(b._def._config.transformer&&b._def._config.transformer!==am){if(a!==am&&a!==b._def._config.transformer)throw Error("You seem to have several transformers");return b._def._config.transformer}return a},am),isDev:a.every(a=>a._def._config.isDev),allowOutsideOfServer:a.every(a=>a._def._config.allowOutsideOfServer),isServer:a.every(a=>a._def._config.isServer),$types:null==(b=a[0])?void 0:b._def._config.$types})(c)}let aw=Symbol();function ax(a){return"object"==typeof a&&null!==a&&"subscribe"in a}function ay(a,b){let c=(function(a,b){let c=null,d=()=>{null==c||c.unsubscribe(),c=null,b.removeEventListener("abort",d)};return new ReadableStream({start(e){c=a.subscribe({next(a){e.enqueue({ok:!0,value:a})},error(a){e.enqueue({ok:!1,error:a}),e.close()},complete(){e.close()}}),b.aborted?d():b.addEventListener("abort",d,{once:!0})},cancel(){d()}})})(a,b).getReader(),d={async next(){let a=await c.read();if(a.done)return{value:void 0,done:!0};let{value:b}=a;if(!b.ok)throw b.error;return{value:b.value,done:!1}},return:async()=>(await c.cancel(),{value:void 0,done:!0})};return{[Symbol.asyncIterator]:()=>d}}var az=W(ad(),1);function aA(a){let b=null,c=Symbol.for("@trpc/server/http/memo"),d=c;return{read:async()=>(d!==c||(null!=b||(b=a().catch(a=>{if(a instanceof ak)throw a;throw new ak({code:"BAD_REQUEST",message:a instanceof Error?a.message:"Invalid input",cause:a})})),d=await b,b=null),d),result:()=>d!==c?d:void 0}}let aB={isMatch(a){var b;return!!(null==(b=a.headers.get("content-type"))?void 0:b.startsWith("application/json"))},async parse(a){var b;let{req:c}=a,d="1"===a.searchParams.get("batch"),e=d?a.path.split(","):[a.path],f=aA(async()=>{let b;if("GET"===c.method){let c=a.searchParams.get("input");c&&(b=JSON.parse(c))}else b=await c.json();if(void 0===b)return{};if(!d)return{0:a.router._def._config.transformer.input.deserialize(b)};if(!I(b))throw new ak({code:"BAD_REQUEST",message:'"input" needs to be an object when doing a batch call'});let f={};for(let c of e.keys()){let d=b[c];void 0!==d&&(f[c]=a.router._def._config.transformer.input.deserialize(d))}return f}),g=await Promise.all(e.map(async(b,c)=>{let d=await at(a.router,b);return{path:b,procedure:d,getRawInput:async()=>{let b=(await f.read())[c];if((null==d?void 0:d._def.type)==="subscription"){var e,g;let c=null!=(e=null!=(g=a.headers.get("last-event-id"))?g:a.searchParams.get("lastEventId"))?e:a.searchParams.get("Last-Event-Id");c&&(I(b)?b=(0,az.default)((0,az.default)({},b),{},{lastEventId:c}):null!=b||(b={lastEventId:c}))}return b},result:()=>{var a;return null==(a=f.result())?void 0:a[c]}}})),h=new Set(g.map(a=>{var b;return null==(b=a.procedure)?void 0:b._def.type}).filter(Boolean));if(h.size>1)throw new ak({code:"BAD_REQUEST",message:`Cannot mix procedure types in call: ${Array.from(h).join(", ")}`});let i=null!=(b=h.values().next().value)?b:"unknown",j=a.searchParams.get("connectionParams");return{isBatchCall:d,accept:c.headers.get("trpc-accept"),calls:g,type:i,connectionParams:null===j?null:function(a){let b;try{b=JSON.parse(a)}catch(a){throw new ak({code:"PARSE_ERROR",message:"Not JSON-parsable query params",cause:a})}var c=b;try{if(null===c)return null;if(!I(c))throw Error("Expected object");let a=Object.entries(c).filter(([a,b])=>"string"!=typeof b);if(a.length>0)throw Error(`Expected connectionParams to be string values. Got ${a.map(([a,b])=>`${a}: ${typeof b}`).join(", ")}`);return c}catch(a){throw new ak({code:"PARSE_ERROR",message:"Invalid connection params shape",cause:a})}}(j),signal:c.signal,url:a.url}}},aC=[aB,{isMatch(a){var b;return!!(null==(b=a.headers.get("content-type"))?void 0:b.startsWith("multipart/form-data"))},async parse(a){let{req:b}=a;if("POST"!==b.method)throw new ak({code:"METHOD_NOT_SUPPORTED",message:"Only POST requests are supported for multipart/form-data requests"});let c=aA(async()=>await b.formData()),d=await at(a.router,a.path);return{accept:null,calls:[{path:a.path,getRawInput:c.read,result:c.result,procedure:d}],isBatchCall:!1,type:"mutation",connectionParams:null,signal:b.signal,url:a.url}}},{isMatch(a){var b;return!!(null==(b=a.headers.get("content-type"))?void 0:b.startsWith("application/octet-stream"))},async parse(a){let{req:b}=a;if("POST"!==b.method)throw new ak({code:"METHOD_NOT_SUPPORTED",message:"Only POST requests are supported for application/octet-stream requests"});let c=aA(async()=>b.body);return{calls:[{path:a.path,getRawInput:c.read,result:c.result,procedure:await at(a.router,a.path)}],isBatchCall:!1,accept:null,type:"mutation",connectionParams:null,signal:b.signal,url:a.url}}}];async function aD(a){let b=function(a){let b=aC.find(b=>b.isMatch(a));if(b)return b;if(!b&&"GET"===a.method)return aB;throw new ak({code:"UNSUPPORTED_MEDIA_TYPE",message:a.headers.has("content-type")?`Unsupported content-type "${a.headers.get("content-type")}`:"Missing content-type header"})}(a.req);return await b.parse(a)}function aE(a="AbortError"){throw new DOMException(a,"AbortError")}function aF(a){return"[object Object]"===Object.prototype.toString.call(a)}var aG=W(ac(),1);let aH=new WeakMap,aI=()=>{};d=Symbol.toStringTag;var aJ=class a{constructor(a){(0,aG.default)(this,"promise",void 0),(0,aG.default)(this,"subscribers",[]),(0,aG.default)(this,"settlement",null),(0,aG.default)(this,d,"Unpromise"),"function"==typeof a?this.promise=new Promise(a):this.promise=a;let b=this.promise.then(a=>{let{subscribers:b}=this;this.subscribers=null,this.settlement={status:"fulfilled",value:a},null==b||b.forEach(({resolve:b})=>{b(a)})});"catch"in b&&b.catch(a=>{let{subscribers:b}=this;this.subscribers=null,this.settlement={status:"rejected",reason:a},null==b||b.forEach(({reject:b})=>{b(a)})})}subscribe(){let a,b,{settlement:c}=this;if(null===c){var d;let c,e;if(null===this.subscribers)throw Error("Unpromise settled but still has subscribers");let f={promise:new Promise((a,b)=>{c=a,e=b}),resolve:c,reject:e};this.subscribers=(d=this.subscribers,[...d,f]),a=f.promise,b=()=>{null!==this.subscribers&&(this.subscribers=function(a,b){let c=a.indexOf(b);if(-1!==c)return[...a.slice(0,c),...a.slice(c+1)];return a}(this.subscribers,f))}}else{let{status:d}=c;a="fulfilled"===d?Promise.resolve(c.value):Promise.reject(c.reason),b=aI}return Object.assign(a,{unsubscribe:b})}then(a,b){let c=this.subscribe(),{unsubscribe:d}=c;return Object.assign(c.then(a,b),{unsubscribe:d})}catch(a){let b=this.subscribe(),{unsubscribe:c}=b;return Object.assign(b.catch(a),{unsubscribe:c})}finally(a){let b=this.subscribe(),{unsubscribe:c}=b;return Object.assign(b.finally(a),{unsubscribe:c})}static proxy(b){let c=a.getSubscribablePromise(b);return void 0!==c?c:a.createSubscribablePromise(b)}static createSubscribablePromise(b){let c=new a(b);return aH.set(b,c),aH.set(c,c),c}static getSubscribablePromise(a){return aH.get(a)}static resolve(b){let c="object"==typeof b&&null!==b&&"then"in b&&"function"==typeof b.then?b:Promise.resolve(b);return a.proxy(c).subscribe()}static async any(b){let c=(Array.isArray(b)?b:[...b]).map(a.resolve);try{return await Promise.any(c)}finally{c.forEach(({unsubscribe:a})=>{a()})}}static async race(b){let c=(Array.isArray(b)?b:[...b]).map(a.resolve);try{return await Promise.race(c)}finally{c.forEach(({unsubscribe:a})=>{a()})}}static async raceReferences(a){let b=a.map(aK);try{return await Promise.race(b)}finally{for(let a of b)a.unsubscribe()}}};function aK(a){return aJ.proxy(a).then(()=>[a])}function aL(a,b){let c=a[Symbol.asyncDispose];return a[Symbol.asyncDispose]=async()=>{await b(),await (null==c?void 0:c())},a}null!=(f=Symbol).dispose||(f.dispose=Symbol()),null!=(g=Symbol).asyncDispose||(g.asyncDispose=Symbol());let aM=Symbol();function aN(a){let b=null;return function(a,b){let c=a[Symbol.dispose];return a[Symbol.dispose]=()=>{b(),null==c||c()},a}({start(){if(b)throw Error("Timer already started");return new Promise(c=>{b=setTimeout(()=>c(aM),a)})}},()=>{b&&clearTimeout(b)})}var aO=V({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/usingCtx.js"(a,b){b.exports=function(){var a="function"==typeof SuppressedError?SuppressedError:function(a,b){var c=Error();return c.name="SuppressedError",c.error=a,c.suppressed=b,c},b={},c=[];function d(a,b){if(null!=b){if(Object(b)!==b)throw TypeError("using declarations can only be used with objects, functions, null, or undefined.");if(a)var d=b[Symbol.asyncDispose||Symbol.for("Symbol.asyncDispose")];if(void 0===d&&(d=b[Symbol.dispose||Symbol.for("Symbol.dispose")],a))var e=d;if("function"!=typeof d)throw TypeError("Object is not disposable.");e&&(d=function(){try{e.call(b)}catch(a){return Promise.reject(a)}}),c.push({v:b,d:d,a:a})}else a&&c.push({d:b,a:a});return b}return{e:b,u:d.bind(null,!1),a:d.bind(null,!0),d:function(){var d,e=this.e,f=0;function g(){for(;d=c.pop();)try{if(!d.a&&1===f)return f=0,c.push(d),Promise.resolve().then(g);if(d.d){var a=d.d.call(d.v);if(d.a)return f|=2,Promise.resolve(a).then(g,h)}else f|=1}catch(a){return h(a)}if(1===f)return e!==b?Promise.reject(e):Promise.resolve();if(e!==b)throw e}function h(c){return e=e!==b?new a(c,e):c,g()}return g()}}},b.exports.__esModule=!0,b.exports.default=b.exports}}),aP=V({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/OverloadYield.js"(a,b){b.exports=function(a,b){this.v=a,this.k=b},b.exports.__esModule=!0,b.exports.default=b.exports}}),aQ=V({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/awaitAsyncGenerator.js"(a,b){var c=aP();b.exports=function(a){return new c(a,0)},b.exports.__esModule=!0,b.exports.default=b.exports}}),aR=V({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/wrapAsyncGenerator.js"(a,b){var c=aP();function d(a){var b,d;function e(b,d){try{var g=a[b](d),h=g.value,i=h instanceof c;Promise.resolve(i?h.v:h).then(function(c){if(i){var d="return"===b?"return":"next";if(!h.k||c.done)return e(d,c);c=a[d](c).value}f(g.done?"return":"normal",c)},function(a){e("throw",a)})}catch(a){f("throw",a)}}function f(a,c){switch(a){case"return":b.resolve({value:c,done:!0});break;case"throw":b.reject(c);break;default:b.resolve({value:c,done:!1})}(b=b.next)?e(b.key,b.arg):d=null}this._invoke=function(a,c){return new Promise(function(f,g){var h={key:a,arg:c,resolve:f,reject:g,next:null};d?d=d.next=h:(b=d=h,e(a,c))})},"function"!=typeof a.return&&(this.return=void 0)}d.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},d.prototype.next=function(a){return this._invoke("next",a)},d.prototype.throw=function(a){return this._invoke("throw",a)},d.prototype.return=function(a){return this._invoke("return",a)},b.exports=function(a){return function(){return new d(a.apply(this,arguments))}},b.exports.__esModule=!0,b.exports.default=b.exports}}),aS=W(aO(),1),aT=W(aQ(),1),aU=W(aR(),1);function aV(a){let b=a[Symbol.asyncIterator]();return b[Symbol.asyncDispose]?b:aL(b,async()=>{var a;await (null==(a=b.return)?void 0:a.call(b))})}function aW(){return(aW=(0,aU.default)(function*(a,b){try{let d;var c=(0,aS.default)();let e=c.a(aV(a)),f=c.u(aN(b.maxDurationMs)).start();for(;;){if((d=yield(0,aT.default)(aJ.race([e.next(),f])))===aM&&aE(),d.done)return d;yield d.value,d=null}}catch(a){c.e=a}finally{yield(0,aT.default)(c.d())}})).apply(this,arguments)}function aX(){return(aX=(0,aU.default)(function*(a,b){try{let d;var c=(0,aS.default)();let e=c.a(aV(a)),f=c.u(aN(b.gracePeriodMs)),g=b.count,h=new Promise(()=>{});for(;;){if((d=yield(0,aT.default)(aJ.race([e.next(),h])))===aM&&aE(),d.done)return d.value;yield d.value,0==--g&&(h=f.start()),d=null}}catch(a){c.e=a}finally{yield(0,aT.default)(c.d())}})).apply(this,arguments)}function aY(){let a,b;return{promise:new Promise((c,d)=>{a=c,b=d}),resolve:a,reject:b}}var aZ=W(aO(),1),a$=W(aQ(),1),a_=W(aR(),1);function a0(a){let b=a[Symbol.asyncIterator]();return new ReadableStream({async cancel(){var a;await (null==(a=b.return)?void 0:a.call(b))},async pull(a){let c=await b.next();if(c.done)return void a.close();a.enqueue(c.value)}})}var a1=W(aO(),1),a2=W(aQ(),1),a3=W(aR(),1);let a4=Symbol("ping");function a5(a,b){return a6.apply(this,arguments)}function a6(){return(a6=(0,a3.default)(function*(a,b){try{let e;var c=(0,a1.default)();let f=c.a(aV(a)),g=f.next();for(;;)try{var d=(0,a1.default)();let a=d.u(aN(b));if((e=yield(0,a2.default)(aJ.race([g,a.start()])))===aM){yield a4;continue}if(e.done)return e.value;g=f.next(),yield e.value,e=null}catch(a){d.e=a}finally{d.d()}}catch(a){c.e=a}finally{yield(0,a2.default)(c.d())}})).apply(this,arguments)}var a7=V({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/asyncIterator.js"(a,b){function c(a){function b(a){if(Object(a)!==a)return Promise.reject(TypeError(a+" is not an object."));var b=a.done;return Promise.resolve(a.value).then(function(a){return{value:a,done:b}})}return(c=function(a){this.s=a,this.n=a.next}).prototype={s:null,n:null,next:function(){return b(this.n.apply(this.s,arguments))},return:function(a){var c=this.s.return;return void 0===c?Promise.resolve({value:a,done:!0}):b(c.apply(this.s,arguments))},throw:function(a){var c=this.s.return;return void 0===c?Promise.reject(a):b(c.apply(this.s,arguments))}},new c(a)}b.exports=function(a){var b,d,e,f=2;for("undefined"!=typeof Symbol&&(d=Symbol.asyncIterator,e=Symbol.iterator);f--;){if(d&&null!=(b=a[d]))return b.call(a);if(e&&null!=(b=a[e]))return new c(b.call(a));d="@@asyncIterator",e="@@iterator"}throw TypeError("Object is not async iterable")},b.exports.__esModule=!0,b.exports.default=b.exports}}),a8=W(aQ(),1),a9=W(aR(),1),ba=W(aO(),1),bb=W(a7(),1);function bc(a){return(I(a)||J(a))&&"function"==typeof(null==a?void 0:a.then)&&"function"==typeof(null==a?void 0:a.catch)}var bd=class extends Error{constructor(a){super("Max depth reached at path: "+a.join(".")),this.path=a}};function be(){return(be=(0,a9.default)(function*(a){let{data:b}=a,c=0,d=function(){let a="idle",b=aY(),c=[],d=new Set,e=[];function f(c){if("pending"!==a)return;let f=function(a,b){let c=a[Symbol.asyncIterator](),d="idle";function e(){d="done",b=()=>{}}return{pull:function(){"idle"===d&&(d="pending",c.next().then(a=>{if(a.done){d="done",b({status:"return",value:a.value}),e();return}d="idle",b({status:"yield",value:a.value})}).catch(a=>{b({status:"error",error:a}),e()}))},destroy:async()=>{var a;e(),await (null==(a=c.return)?void 0:a.call(c))}}}(c,c=>{if("pending"===a){switch(c.status){case"yield":e.push([f,c]);break;case"return":d.delete(f);break;case"error":e.push([f,c]),d.delete(f)}b.resolve()}});d.add(f),f.pull()}return{add(b){switch(a){case"idle":c.push(b);break;case"pending":f(b)}},[Symbol.asyncIterator]:()=>(0,a_.default)(function*(){try{var g=(0,aZ.default)();if("idle"!==a)throw Error("Cannot iterate twice");for(a="pending",g.a(aL({},async()=>{a="done";let c=[];if(await Promise.all(Array.from(d.values()).map(async a=>{try{await a.destroy()}catch(a){c.push(a)}})),e.length=0,d.clear(),b.resolve(),c.length>0)throw AggregateError(c)}));c.length>0;)f(c.shift());for(;d.size>0;){for(yield(0,a$.default)(b.promise);e.length>0;){let[a,b]=e.shift();switch(b.status){case"yield":yield b.value,a.pull();break;case"error":throw b.error}}b=aY()}}catch(a){g.e=a}finally{yield(0,a$.default)(g.d())}})()}}();function e(a){let b=c++,e=a(b);return d.add(e),b}function f(b){return a.maxDepth&&b.length>a.maxDepth?new bd(b):null}function g(b,c){var d,g,i;if(bc(b))return[0,(d=b,e((g=(0,a9.default)(function*(b){let e=f(c);e&&(d.catch(b=>{var d;null==(d=a.onError)||d.call(a,{error:b,path:c})}),d=Promise.reject(e));try{let a=yield(0,a8.default)(d);yield[b,0,h(a,c)]}catch(d){var g,i;null==(g=a.onError)||g.call(a,{error:d,path:c}),yield[b,1,null==(i=a.formatError)?void 0:i.call(a,{error:d,path:c})]}}),function(a){return g.apply(this,arguments)})))];if(M(b)){if(a.maxDepth&&c.length>=a.maxDepth)throw Error("Max depth reached");return[1,e((i=(0,a9.default)(function*(d){try{var e,g,i=(0,ba.default)();let j=f(c);if(j)throw j;let k=i.a(aV(b));try{for(;;){let a=yield(0,a8.default)(k.next());if(a.done){yield[d,0,h(a.value,c)];break}yield[d,1,h(a.value,c)]}}catch(b){null==(e=a.onError)||e.call(a,{error:b,path:c}),yield[d,2,null==(g=a.formatError)?void 0:g.call(a,{error:b,path:c})]}}catch(a){i.e=a}finally{yield(0,a8.default)(i.d())}}),function(a){return i.apply(this,arguments)}))]}return null}function h(a,b){var c,d;if(void 0===a)return[[]];let e=g(a,b);if(e)return[[0],[null,...e]];if(!1===aF(a)||void 0!==(c=a.constructor)&&(!1===aF(d=c.prototype)||!1===d.hasOwnProperty("isPrototypeOf")))return[[a]];let f={},h=[];for(let[c,d]of Object.entries(a)){let a=g(d,[...b,c]);if(!a){f[c]=d;continue}f[c]=0,h.push([c,...a])}return[[f],...h]}let i={};for(let[a,c]of Object.entries(b))i[a]=h(c,[a]);yield i;let j=d;a.pingMs&&(j=a5(d,a.pingMs));var k=!1,l=!1;try{for(var m,n,o=(0,bb.default)(j);k=!(n=yield(0,a8.default)(o.next())).done;k=!1){let a=n.value;yield a}}catch(a){l=!0,m=a}finally{try{k&&null!=o.return&&(yield(0,a8.default)(o.return()))}finally{if(l)throw m}}})).apply(this,arguments)}var bf=V({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/asyncGeneratorDelegate.js"(a,b){var c=aP();b.exports=function(a){var b={},d=!1;function e(b,e){return d=!0,{done:!1,value:new c(e=new Promise(function(c){c(a[b](e))}),1)}}return b["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},b.next=function(a){return d?(d=!1,a):e("next",a)},"function"==typeof a.throw&&(b.throw=function(a){if(d)throw d=!1,a;return e("throw",a)}),"function"==typeof a.return&&(b.return=function(a){return d?(d=!1,a):e("return",a)}),b},b.exports.__esModule=!0,b.exports.default=b.exports}}),bg=W(a7(),1),bh=W(aQ(),1),bi=W(aR(),1),bj=W(bf(),1);W(aO(),1);let bk={"Content-Type":"text/event-stream","Cache-Control":"no-cache, no-transform","X-Accel-Buffering":"no",Connection:"keep-alive"};var bl=W(aR(),1),bm=W(ad(),1);function bn(a){return N((0,bl.default)(function*(){throw a}))}let bo={mutation:["POST"],query:["GET"],subscription:["GET"]},bp={mutation:["POST"],query:["GET","POST"],subscription:["GET","POST"]};function bq(a){var b,c,d;let{ctx:e,info:f,responseMeta:g,untransformedJSON:h,errors:i=[],headers:j}=a,k=h?function(a){let b=new Set((Array.isArray(a)?a:[a]).map(a=>{if("error"in a&&I(a.error.data)){var b;return"number"==typeof(null==(b=a.error.data)?void 0:b.httpStatus)?a.error.data.httpStatus:$(G[a.error.code])}return 200}));return 1!==b.size?207:b.values().next().value}(h):200,l=!h,m=l?[]:Array.isArray(h)?h:[h],n=null!=(b=null==g?void 0:g({ctx:e,info:f,paths:null==f?void 0:f.calls.map(a=>a.path),data:m,errors:i,eagerGeneration:l,type:null!=(c=null==f||null==(d=f.calls.find(a=>{var b;return null==(b=a.procedure)?void 0:b._def.type}))||null==(d=d.procedure)?void 0:d._def.type)?c:"unknown"}))?b:{};if(n.headers)if(n.headers instanceof Headers)for(let[a,b]of n.headers.entries())j.append(a,b);else for(let[a,b]of Object.entries(n.headers))if(Array.isArray(b))for(let c of b)j.append(a,c);else"string"==typeof b&&j.set(a,b);return n.status&&(k=n.status),{status:k}}function br(a){return!!I(a)&&(!!M(a)||Object.values(a).some(bc)||Object.values(a).some(M))}async function bs(a){var b,c,d,e,f,g,h;let{router:i,req:j}=a,k=new Headers([["vary","trpc-accept"]]),l=i._def._config,m=new URL(j.url);if("HEAD"===j.method)return new Response(null,{status:204});let n=null==(b=null!=(c=a.allowBatching)?c:null==(d=a.batching)?void 0:d.enabled)||b,o=null!=(e=a.allowMethodOverride)&&e&&"POST"===j.method,p=await N(async()=>{try{return[void 0,await aD({req:j,path:decodeURIComponent(a.path),router:i,searchParams:m.searchParams,headers:a.req.headers,url:m})]}catch(a){return[aj(a),void 0]}}),q=N(()=>{let b;return{valueOrUndefined:()=>{if(b)return b[1]},value:()=>{let[a,c]=b;if(a)throw a;return c},create:async c=>{if(b)throw Error("This should only be called once - report a bug in tRPC");try{let d=await a.createContext({info:c});b=[void 0,d]}catch(a){b=[aj(a),void 0]}}}}),r=o?bp:bo,s="application/jsonl"===j.headers.get("trpc-accept"),t=null==(f=null==(g=l.sse)?void 0:g.enabled)||f;try{let[b,c]=p;if(b)throw b;if(c.isBatchCall&&!n)throw new ak({code:"BAD_REQUEST",message:"Batching is not enabled on the server"});if(s&&!c.isBatchCall)throw new ak({message:"Streaming requests must be batched (you can do a batch of 1)",code:"BAD_REQUEST"});await q.create(c);let d=c.calls.map(async b=>{let d=b.procedure;try{if(a.error)throw a.error;if(!d)throw new ak({code:"NOT_FOUND",message:`No procedure found on path "${b.path}"`});if(!r[d._def.type].includes(j.method))throw new ak({code:"METHOD_NOT_SUPPORTED",message:`Unsupported ${j.method}-request to ${d._def.type} procedure at path "${b.path}"`});if("subscription"===d._def.type&&c.isBatchCall)throw new ak({code:"BAD_REQUEST",message:"Cannot batch subscription calls"});let e=await d({path:b.path,getRawInput:b.getRawInput,ctx:q.value(),type:d._def.type,signal:a.req.signal});return[void 0,{data:e}]}catch(h){var e,f,g;let c=aj(h),d=b.result();return null==(e=a.onError)||e.call(a,{error:c,path:b.path,input:d,ctx:q.valueOrUndefined(),type:null!=(f=null==(g=b.procedure)?void 0:g._def.type)?f:"unknown",req:a.req}),[c,void 0]}});if(!c.isBatchCall){let[b]=c.calls,[e,f]=await d[0];switch(c.type){case"unknown":case"mutation":case"query":{if(k.set("content-type","application/json"),br(null==f?void 0:f.data))throw new ak({code:"UNSUPPORTED_MEDIA_TYPE",message:"Cannot use stream-like response in non-streaming request - use httpBatchStreamLink"});let d=e?{error:af({config:l,ctx:q.valueOrUndefined(),error:e,input:b.result(),path:b.path,type:c.type})}:{result:{data:f.data}},g=bq({ctx:q.valueOrUndefined(),info:c,responseMeta:a.responseMeta,errors:e?[e]:[],headers:k,untransformedJSON:[d]});return new Response(JSON.stringify(ao(l,d)),{status:g.status,headers:k})}case"subscription":{let d=N(()=>e?bn(e):t?ax(f.data)||M(f.data)?ax(f.data)?ay(f.data,a.req.signal):f.data:bn(new ak({message:`Subscription ${b.path} did not return an observable or a AsyncGenerator`,code:"INTERNAL_SERVER_ERROR"})):bn(new ak({code:"METHOD_NOT_SUPPORTED",message:'Missing experimental flag "sseSubscriptions"'}))),g=function(a){var b,c,d,e,f;let{serialize:g=O}=a,h={enabled:null!=(b=null==(c=a.ping)?void 0:c.enabled)&&b,intervalMs:null!=(d=null==(e=a.ping)?void 0:e.intervalMs)?d:1e3},i=null!=(f=a.client)?f:{};if(h.enabled&&i.reconnectAfterInactivityMs&&h.intervalMs>i.reconnectAfterInactivityMs)throw Error(`Ping interval must be less than client reconnect interval to prevent unnecessary reconnection - ping.intervalMs: ${h.intervalMs} client.reconnectAfterInactivityMs: ${i.reconnectAfterInactivityMs}`);function j(){return(j=(0,bi.default)(function*(){let b,c;yield{event:"connected",data:JSON.stringify(i)};let d=a.data;a.emitAndEndImmediately&&(d=function(a,b){return aX.apply(this,arguments)}(d,{count:1,gracePeriodMs:1})),a.maxDurationMs&&a.maxDurationMs>0&&a.maxDurationMs!==1/0&&(d=function(a,b){return aW.apply(this,arguments)}(d,{maxDurationMs:a.maxDurationMs})),h.enabled&&h.intervalMs!==1/0&&h.intervalMs>0&&(d=a5(d,h.intervalMs));var e=!1,f=!1;try{for(var j,k,l,m=(0,bg.default)(d);e=!(l=yield(0,bh.default)(m.next())).done;e=!1){if((b=l.value)===a4){yield{event:"ping",data:""};continue}(j=b,c=Array.isArray(j)&&j[2]===aw?{id:b[0],data:b[1]}:{data:b}).data=JSON.stringify(g(c.data)),yield c,b=null,c=null}}catch(a){f=!0,k=a}finally{try{e&&null!=m.return&&(yield(0,bh.default)(m.return()))}finally{if(f)throw k}}})).apply(this,arguments)}function k(){return(k=(0,bi.default)(function*(){try{yield*(0,bj.default)((0,bg.default)(function(){return j.apply(this,arguments)}())),yield{event:"return",data:""}}catch(f){var b,c;if(I(f)&&"AbortError"===f.name)return;let d=aj(f),e=null!=(b=null==(c=a.formatError)?void 0:c.call(a,{error:d}))?b:null;yield{event:"serialized-error",data:JSON.stringify(g(e))}}})).apply(this,arguments)}return a0(function(){return k.apply(this,arguments)}()).pipeThrough(new TransformStream({transform(a,b){"event"in a&&b.enqueue(`event: ${a.event}
`),"data"in a&&b.enqueue(`data: ${a.data}
`),"id"in a&&b.enqueue(`id: ${a.id}
`),"comment"in a&&b.enqueue(`: ${a.comment}
`),b.enqueue("\n\n")}})).pipeThrough(new TextEncoderStream)}((0,bm.default)((0,bm.default)({},l.sse),{},{data:d,serialize:a=>l.transformer.output.serialize(a),formatError(c){var d,e,f;let g=aj(c.error),h=null==b?void 0:b.result(),i=null==b?void 0:b.path,j=null!=(d=null==b||null==(e=b.procedure)?void 0:e._def.type)?d:"unknown";return null==(f=a.onError)||f.call(a,{error:g,path:i,input:h,ctx:q.valueOrUndefined(),req:a.req,type:j}),af({config:l,ctx:q.valueOrUndefined(),error:g,input:h,path:i,type:j})}}));for(let[a,b]of Object.entries(bk))k.set(a,b);let h=bq({ctx:q.valueOrUndefined(),info:c,responseMeta:a.responseMeta,errors:[],headers:k,untransformedJSON:null});return new Response(g,{headers:k,status:h.status})}}}if("application/jsonl"===c.accept){k.set("content-type","application/json"),k.set("transfer-encoding","chunked");let b=bq({ctx:q.valueOrUndefined(),info:c,responseMeta:a.responseMeta,errors:[],headers:k,untransformedJSON:null}),e=function(a){let b=a0(function(a){return be.apply(this,arguments)}(a)),{serialize:c}=a;return c&&(b=b.pipeThrough(new TransformStream({transform(a,b){a===a4?b.enqueue(a4):b.enqueue(c(a))}}))),b.pipeThrough(new TransformStream({transform(a,b){a===a4?b.enqueue(" "):b.enqueue(JSON.stringify(a)+"\n")}})).pipeThrough(new TextEncoderStream)}((0,bm.default)((0,bm.default)({},l.jsonl),{},{maxDepth:1/0,data:d.map(async b=>{let[d,e]=await b,f=c.calls[0];if(d){var g,h;return{error:af({config:l,ctx:q.valueOrUndefined(),error:d,input:f.result(),path:f.path,type:null!=(g=null==(h=f.procedure)?void 0:h._def.type)?g:"unknown"})}}let i=ax(e.data)?ay(e.data,a.req.signal):Promise.resolve(e.data);return{result:Promise.resolve({data:i})}}),serialize:a=>l.transformer.output.serialize(a),onError:b=>{var d,e;null==(d=a.onError)||d.call(a,{error:aj(b),path:void 0,input:void 0,ctx:q.valueOrUndefined(),req:a.req,type:null!=(e=null==c?void 0:c.type)?e:"unknown"})},formatError(a){var b,d;let e=null==c?void 0:c.calls[a.path[0]],f=aj(a.error),g=null==e?void 0:e.result(),h=null==e?void 0:e.path,i=null!=(b=null==e||null==(d=e.procedure)?void 0:d._def.type)?b:"unknown";return af({config:l,ctx:q.valueOrUndefined(),error:f,input:g,path:h,type:i})}}));return new Response(e,{headers:k,status:b.status})}k.set("content-type","application/json");let e=(await Promise.all(d)).map(a=>{let[b,c]=a;return b?a:br(c.data)?[new ak({code:"UNSUPPORTED_MEDIA_TYPE",message:"Cannot use stream-like response in non-streaming request - use httpBatchStreamLink"}),void 0]:a}),f=e.map(([a,b],d)=>{let e=c.calls[d];if(a){var f,g;return{error:af({config:l,ctx:q.valueOrUndefined(),error:a,input:e.result(),path:e.path,type:null!=(f=null==(g=e.procedure)?void 0:g._def.type)?f:"unknown"})}}return{result:{data:b.data}}}),g=e.map(([a])=>a).filter(Boolean),h=bq({ctx:q.valueOrUndefined(),info:c,responseMeta:a.responseMeta,untransformedJSON:f,errors:g,headers:k});return new Response(JSON.stringify(ao(l,f)),{status:h.status,headers:k})}catch(i){let[b,c]=p,d=q.valueOrUndefined(),{error:e,untransformedJSON:f,body:g}=function(a,b){let{router:c,req:d,onError:e}=b.opts,f=aj(a);null==e||e({error:f,path:b.path,input:b.input,ctx:b.ctx,type:b.type,req:d});let g={error:af({config:c._def._config,error:f,type:b.type,path:b.path,input:b.input,ctx:b.ctx})},h=JSON.stringify(ao(c._def._config,g));return{error:f,untransformedJSON:g,body:h}}(i,{opts:a,ctx:q.valueOrUndefined(),type:null!=(h=null==c?void 0:c.type)?h:"unknown"});return new Response(g,{status:bq({ctx:d,info:c,responseMeta:a.responseMeta,untransformedJSON:f,errors:[e],headers:k}).status,headers:k})}}var bt=W(ad(),1);let bu=a=>a=(a=a.startsWith("/")?a.slice(1):a).endsWith("/")?a.slice(0,-1):a;async function bv(a){let b=new Headers,c=async c=>{var d;return null==(d=a.createContext)?void 0:d.call(a,(0,bt.default)({req:a.req,resHeaders:b},c))},d=bu(new URL(a.req.url).pathname),e=bu(a.endpoint),f=bu(d.slice(e.length));return await bs((0,bt.default)((0,bt.default)({},a),{},{req:a.req,createContext:c,path:f,error:null,onError(b){var c;null==a||null==(c=a.onError)||c.call(a,(0,bt.default)((0,bt.default)({},b),{},{req:a.req}))},responseMeta(c){var d;let e=null==(d=a.responseMeta)?void 0:d.call(a,c);if(null==e?void 0:e.headers)if(e.headers instanceof Headers)for(let[a,c]of e.headers.entries())b.append(a,c);else for(let[a,c]of Object.entries(e.headers))if(Array.isArray(c))for(let d of c)b.append(a,d);else"string"==typeof c&&b.set(a,c);return{headers:b,status:null==e?void 0:e.status}}}))}var bw=W(ad(),1);let bx="middlewareMarker";var by=W(ac(),1),bz=class extends Error{constructor(a){var b;super(null==(b=a[0])?void 0:b.message),(0,by.default)(this,"issues",void 0),this.name="SchemaError",this.issues=a}};function bA(a){let b="~standard"in a;if("function"==typeof a&&"function"==typeof a.assert)return a.assert.bind(a);if("function"==typeof a&&!b)return a;if("function"==typeof a.parseAsync)return a.parseAsync.bind(a);if("function"==typeof a.parse)return a.parse.bind(a);if("function"==typeof a.validateSync)return a.validateSync.bind(a);if("function"==typeof a.create)return a.create.bind(a);if("function"==typeof a.assert)return b=>(a.assert(b),b);if(b)return async b=>{let c=await a["~standard"].validate(b);if(c.issues)throw new bz(c.issues);return c.value};throw Error("Could not find a validator fn")}var bB=V({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/objectWithoutPropertiesLoose.js"(a,b){b.exports=function(a,b){if(null==a)return{};var c={};for(var d in a)if(({}).hasOwnProperty.call(a,d)){if(b.includes(d))continue;c[d]=a[d]}return c},b.exports.__esModule=!0,b.exports.default=b.exports}}),bC=W(V({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/objectWithoutProperties.js"(a,b){var c=bB();b.exports=function(a,b){if(null==a)return{};var d,e,f=c(a,b);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(a);for(e=0;e<g.length;e++)d=g[e],b.includes(d)||({}).propertyIsEnumerable.call(a,d)&&(f[d]=a[d])}return f},b.exports.__esModule=!0,b.exports.default=b.exports}})(),1),bD=W(ad(),1);let bE=["middlewares","inputs","meta"];function bF(a,b){let{middlewares:c=[],inputs:d,meta:e}=b,f=(0,bC.default)(b,bE);return bG((0,bD.default)((0,bD.default)({},H(a,f)),{},{inputs:[...a.inputs,...null!=d?d:[]],middlewares:[...a.middlewares,...c],meta:a.meta&&e?(0,bD.default)((0,bD.default)({},a.meta),e):null!=e?e:a.meta}))}function bG(a={}){let b=(0,bD.default)({procedure:!0,inputs:[],middlewares:[]},a);return{_def:b,input(a){let c=bA(a);return bF(b,{inputs:[a],middlewares:[function(a){let b=async function(b){let c,d=await b.getRawInput();try{c=await a(d)}catch(a){throw new ak({code:"BAD_REQUEST",cause:a})}let e=I(b.input)&&I(c)?(0,bw.default)((0,bw.default)({},b.input),c):c;return b.next({input:e})};return b._type="input",b}(c)]})},output(a){let c=bA(a);return bF(b,{output:a,middlewares:[function(a){let b=async function({next:b}){let c=await b();if(!c.ok)return c;try{let b=await a(c.data);return(0,bw.default)((0,bw.default)({},c),{},{data:b})}catch(a){throw new ak({message:"Output validation failed",code:"INTERNAL_SERVER_ERROR",cause:a})}};return b._type="output",b}(c)]})},meta:a=>bF(b,{meta:a}),use:a=>bF(b,{middlewares:"_middlewares"in a?a._middlewares:[a]}),unstable_concat:a=>bF(b,a._def),concat:a=>bF(b,a._def),query:a=>bH((0,bD.default)((0,bD.default)({},b),{},{type:"query"}),a),mutation:a=>bH((0,bD.default)((0,bD.default)({},b),{},{type:"mutation"}),a),subscription:a=>bH((0,bD.default)((0,bD.default)({},b),{},{type:"subscription"}),a),experimental_caller:a=>bF(b,{caller:a})}}function bH(a,b){let c=bF(a,{resolver:b,middlewares:[async function(a){return{marker:bx,ok:!0,data:await b(a),ctx:a.ctx}}]}),d=(0,bD.default)((0,bD.default)({},c._def),{},{type:a.type,experimental_caller:!!c._def.caller,meta:c._def.meta,$types:null}),e=function(a){async function b(b){if(!b||!("getRawInput"in b))throw Error(bI);let c=await bJ(0,a,b);if(!c)throw new ak({code:"INTERNAL_SERVER_ERROR",message:"No result from middlewares - did you forget to `return next()`?"});if(!c.ok)throw c.error;return c.data}return b._def=a,b.procedure=!0,b.meta=a.meta,b}(c._def),f=c._def.caller;if(!f)return e;let g=async(...a)=>await f({args:a,invoke:e,_def:d});return g._def=d,g}let bI=`
This is a client-only function.
If you want to call this function on the server, see https://trpc.io/docs/v11/server/server-side-calls
`.trim();async function bJ(a,b,c){try{let d=b.middlewares[a];return await d((0,bD.default)((0,bD.default)({},c),{},{meta:b.meta,input:c.input,next(d){var e;return bJ(a+1,b,(0,bD.default)((0,bD.default)({},c),{},{ctx:(null==d?void 0:d.ctx)?(0,bD.default)((0,bD.default)({},c.ctx),d.ctx):c.ctx,input:d&&"input"in d?d.input:c.input,getRawInput:null!=(e=null==d?void 0:d.getRawInput)?e:c.getRawInput}))}}))}catch(a){return{ok:!1,error:aj(a),marker:bx}}}let bK="undefined"==typeof window||"Deno"in window||(null==(h=globalThis.process)||null==(h=h.env)?void 0:h.NODE_ENV)==="test"||!!(null==(i=globalThis.process)||null==(i=i.env)?void 0:i.JEST_WORKER_ID)||!!(null==(j=globalThis.process)||null==(j=j.env)?void 0:j.VITEST_WORKER_ID);var bL=W(ad(),1);let bM=new class a{context(){return new a}meta(){return new a}create(a){var b,c,d,e,f,g,h,i;let j=(0,bL.default)((0,bL.default)({},a),{},{transformer:"input"in(i=null!=(b=null==a?void 0:a.transformer)?b:am)?i:{input:i,output:i},isDev:null!=(c=null==a?void 0:a.isDev)?c:(null==(d=globalThis.process)?void 0:d.env.NODE_ENV)!=="production",allowOutsideOfServer:null!=(e=null==a?void 0:a.allowOutsideOfServer)&&e,errorFormatter:null!=(f=null==a?void 0:a.errorFormatter)?f:ag,isServer:null!=(g=null==a?void 0:a.isServer)?g:bK,$types:null});if(!(null!=(h=null==a?void 0:a.isServer)?h:bK)&&(null==a?void 0:a.allowOutsideOfServer)!==!0)throw Error("You're trying to use @trpc/server in a non-server environment. This is not supported by default.");return{_config:j,procedure:bG({meta:null==a?void 0:a.defaultMeta}),middleware:function(a){return function a(b){return{_middlewares:b,unstable_pipe:c=>a([...b,..."_middlewares"in c?c._middlewares:[c]])}}([a])},router:as(j),mergeRouters:av,createCallerFactory:au()}}};class bN{constructor(){this.keyToValue=new Map,this.valueToKey=new Map}set(a,b){this.keyToValue.set(a,b),this.valueToKey.set(b,a)}getByKey(a){return this.keyToValue.get(a)}getByValue(a){return this.valueToKey.get(a)}clear(){this.keyToValue.clear(),this.valueToKey.clear()}}class bO{constructor(a){this.generateIdentifier=a,this.kv=new bN}register(a,b){this.kv.getByValue(a)||(b||(b=this.generateIdentifier(a)),this.kv.set(b,a))}clear(){this.kv.clear()}getIdentifier(a){return this.kv.getByValue(a)}getValue(a){return this.kv.getByKey(a)}}class bP extends bO{constructor(){super(a=>a.name),this.classToAllowedProps=new Map}register(a,b){"object"==typeof b?(b.allowProps&&this.classToAllowedProps.set(a,b.allowProps),super.register(a,b.identifier)):super.register(a,b)}getAllowedProps(a){return this.classToAllowedProps.get(a)}}function bQ(a,b){Object.entries(a).forEach(([a,c])=>b(c,a))}function bR(a,b){return -1!==a.indexOf(b)}function bS(a,b){for(let c=0;c<a.length;c++){let d=a[c];if(b(d))return d}}class bT{constructor(){this.transfomers={}}register(a){this.transfomers[a.name]=a}findApplicable(a){return function(a,b){let c=function(a){if("values"in Object)return Object.values(a);let b=[];for(let c in a)a.hasOwnProperty(c)&&b.push(a[c]);return b}(a);if("find"in c)return c.find(b);for(let a=0;a<c.length;a++){let d=c[a];if(b(d))return d}}(this.transfomers,b=>b.isApplicable(a))}findByName(a){return this.transfomers[a]}}let bU=a=>void 0===a,bV=a=>"object"==typeof a&&null!==a&&a!==Object.prototype&&(null===Object.getPrototypeOf(a)||Object.getPrototypeOf(a)===Object.prototype),bW=a=>bV(a)&&0===Object.keys(a).length,bX=a=>Array.isArray(a),bY=a=>a instanceof Map,bZ=a=>a instanceof Set,b$=a=>"Symbol"===Object.prototype.toString.call(a).slice(8,-1),b_=a=>a instanceof Error,b0=a=>"number"==typeof a&&isNaN(a),b1=a=>a.replace(/\\/g,"\\\\").replace(/\./g,"\\."),b2=a=>a.map(String).map(b1).join("."),b3=(a,b)=>{let c=[],d="";for(let e=0;e<a.length;e++){let f=a.charAt(e);if(!b&&"\\"===f){let b=a.charAt(e+1);if("\\"===b){d+="\\",e++;continue}if("."!==b)throw Error("invalid path")}if("\\"===f&&"."===a.charAt(e+1)){d+=".",e++;continue}if("."===f){c.push(d),d="";continue}d+=f}let e=d;return c.push(e),c};function b4(a,b,c,d){return{isApplicable:a,annotation:b,transform:c,untransform:d}}let b5=[b4(bU,"undefined",()=>null,()=>void 0),b4(a=>"bigint"==typeof a,"bigint",a=>a.toString(),a=>"undefined"!=typeof BigInt?BigInt(a):(console.error("Please add a BigInt polyfill."),a)),b4(a=>a instanceof Date&&!isNaN(a.valueOf()),"Date",a=>a.toISOString(),a=>new Date(a)),b4(b_,"Error",(a,b)=>{let c={name:a.name,message:a.message};return"cause"in a&&(c.cause=a.cause),b.allowedErrorProps.forEach(b=>{c[b]=a[b]}),c},(a,b)=>{let c=Error(a.message,{cause:a.cause});return c.name=a.name,c.stack=a.stack,b.allowedErrorProps.forEach(b=>{c[b]=a[b]}),c}),b4(a=>a instanceof RegExp,"regexp",a=>""+a,a=>new RegExp(a.slice(1,a.lastIndexOf("/")),a.slice(a.lastIndexOf("/")+1))),b4(bZ,"set",a=>[...a.values()],a=>new Set(a)),b4(bY,"map",a=>[...a.entries()],a=>new Map(a)),b4(a=>b0(a)||(a=>a===1/0||a===-1/0)(a),"number",a=>b0(a)?"NaN":a>0?"Infinity":"-Infinity",Number),b4(a=>0===a&&1/a==-1/0,"number",()=>"-0",Number),b4(a=>a instanceof URL,"URL",a=>a.toString(),a=>new URL(a))];function b6(a,b,c,d){return{isApplicable:a,annotation:b,transform:c,untransform:d}}let b7=b6((a,b)=>!!b$(a)&&!!b.symbolRegistry.getIdentifier(a),(a,b)=>["symbol",b.symbolRegistry.getIdentifier(a)],a=>a.description,(a,b,c)=>{let d=c.symbolRegistry.getValue(b[1]);if(!d)throw Error("Trying to deserialize unknown symbol");return d}),b8=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,Uint8ClampedArray].reduce((a,b)=>(a[b.name]=b,a),{}),b9=b6(a=>ArrayBuffer.isView(a)&&!(a instanceof DataView),a=>["typed-array",a.constructor.name],a=>[...a],(a,b)=>{let c=b8[b[1]];if(!c)throw Error("Trying to deserialize unknown typed array");return new c(a)});function ca(a,b){return!!a?.constructor&&!!b.classRegistry.getIdentifier(a.constructor)}let cb=b6(ca,(a,b)=>["class",b.classRegistry.getIdentifier(a.constructor)],(a,b)=>{let c=b.classRegistry.getAllowedProps(a.constructor);if(!c)return{...a};let d={};return c.forEach(b=>{d[b]=a[b]}),d},(a,b,c)=>{let d=c.classRegistry.getValue(b[1]);if(!d)throw Error(`Trying to deserialize unknown class '${b[1]}' - check https://github.com/blitz-js/superjson/issues/116#issuecomment-773996564`);return Object.assign(Object.create(d.prototype),a)}),cc=b6((a,b)=>!!b.customTransformerRegistry.findApplicable(a),(a,b)=>["custom",b.customTransformerRegistry.findApplicable(a).name],(a,b)=>b.customTransformerRegistry.findApplicable(a).serialize(a),(a,b,c)=>{let d=c.customTransformerRegistry.findByName(b[1]);if(!d)throw Error("Trying to deserialize unknown custom value");return d.deserialize(a)}),cd=[cb,b7,cc,b9],ce=(a,b)=>{let c=bS(cd,c=>c.isApplicable(a,b));if(c)return{value:c.transform(a,b),type:c.annotation(a,b)};let d=bS(b5,c=>c.isApplicable(a,b));if(d)return{value:d.transform(a,b),type:d.annotation}},cf={};b5.forEach(a=>{cf[a.annotation]=a});let cg=(a,b)=>{if(b>a.size)throw Error("index out of bounds");let c=a.keys();for(;b>0;)c.next(),b--;return c.next().value};function ch(a){if(bR(a,"__proto__"))throw Error("__proto__ is not allowed as a property");if(bR(a,"prototype"))throw Error("prototype is not allowed as a property");if(bR(a,"constructor"))throw Error("constructor is not allowed as a property")}let ci=(a,b,c)=>{if(ch(b),0===b.length)return c(a);let d=a;for(let a=0;a<b.length-1;a++){let c=b[a];if(bX(d))d=d[+c];else if(bV(d))d=d[c];else if(bZ(d))d=cg(d,+c);else if(bY(d)){if(a===b.length-2)break;let e=+c,f=0==+b[++a]?"key":"value",g=cg(d,e);switch(f){case"key":d=g;break;case"value":d=d.get(g)}}}let e=b[b.length-1];if(bX(d)?d[+e]=c(d[+e]):bV(d)&&(d[e]=c(d[e])),bZ(d)){let a=cg(d,+e),b=c(a);a!==b&&(d.delete(a),d.add(b))}if(bY(d)){let a=cg(d,+b[b.length-2]);switch(0==+e?"key":"value"){case"key":{let b=c(a);d.set(b,d.get(a)),b!==a&&d.delete(a);break}case"value":d.set(a,c(d.get(a)))}}return a},cj=(a,b,c,d,e=[],f=[],g=new Map)=>{let h=(a=>"boolean"==typeof a||null===a||bU(a)||(a=>"number"==typeof a&&!isNaN(a))(a)||"string"==typeof a||b$(a))(a);if(!h){!function(a,b,c){let d=c.get(a);d?d.push(b):c.set(a,[b])}(a,e,b);let c=g.get(a);if(c)return d?{transformedValue:null}:c}if(!((a,b)=>bV(a)||bX(a)||bY(a)||bZ(a)||b_(a)||ca(a,b))(a,c)){let b=ce(a,c),d=b?{transformedValue:b.value,annotations:[b.type]}:{transformedValue:a};return h||g.set(a,d),d}if(bR(f,a))return{transformedValue:null};let i=ce(a,c),j=i?.value??a,k=bX(j)?[]:{},l={};bQ(j,(h,i)=>{if("__proto__"===i||"constructor"===i||"prototype"===i)throw Error(`Detected property ${i}. This is a prototype pollution risk, please remove it from your object.`);let j=cj(h,b,c,d,[...e,i],[...f,a],g);k[i]=j.transformedValue,bX(j.annotations)?l[b1(i)]=j.annotations:bV(j.annotations)&&bQ(j.annotations,(a,b)=>{l[b1(i)+"."+b]=a})});let m=bW(l)?{transformedValue:k,annotations:i?[i.type]:void 0}:{transformedValue:k,annotations:i?[i.type,l]:l};return h||g.set(a,m),m};function ck(a){return Object.prototype.toString.call(a).slice(8,-1)}function cl(a){return"Array"===ck(a)}class cm{constructor({dedupe:a=!1}={}){this.classRegistry=new bP,this.symbolRegistry=new bO(a=>a.description??""),this.customTransformerRegistry=new bT,this.allowedErrorProps=[],this.dedupe=a}serialize(a){let b=new Map,c=cj(a,b,this,this.dedupe),d={json:c.transformedValue};c.annotations&&(d.meta={...d.meta,values:c.annotations});let e=function(a,b){let c,d={};return(a.forEach(a=>{if(a.length<=1)return;b||(a=a.map(a=>a.map(String)).sort((a,b)=>a.length-b.length));let[e,...f]=a;0===e.length?c=f.map(b2):d[b2(e)]=f.map(b2)}),c)?bW(d)?[c]:[c,d]:bW(d)?void 0:d}(b,this.dedupe);return e&&(d.meta={...d.meta,referentialEqualities:e}),d.meta&&(d.meta.v=1),d}deserialize(a,b){var c,d,e,f;let{json:g,meta:h}=a,i=b?.inPlace?g:function a(b,c={}){return cl(b)?b.map(b=>a(b,c)):!function(a){if("Object"!==ck(a))return!1;let b=Object.getPrototypeOf(a);return!!b&&b.constructor===Object&&b===Object.prototype}(b)?b:[...Object.getOwnPropertyNames(b),...Object.getOwnPropertySymbols(b)].reduce((d,e)=>{if("__proto__"===e||cl(c.props)&&!c.props.includes(e))return d;let f=a(b[e],c);var g=c.nonenumerable;let h=({}).propertyIsEnumerable.call(b,e)?"enumerable":"nonenumerable";return"enumerable"===h&&(d[e]=f),g&&"nonenumerable"===h&&Object.defineProperty(d,e,{value:f,enumerable:!1,writable:!0,configurable:!0}),d},{})}(g);return h?.values&&(c=i,d=h.values,e=h.v??0,f=this,function a(b,c,d,e=[]){if(!b)return;let f=d<1;if(!bX(b))return void bQ(b,(b,g)=>a(b,c,d,[...e,...b3(g,f)]));let[g,h]=b;h&&bQ(h,(b,g)=>{a(b,c,d,[...e,...b3(g,f)])}),c(g,e)}(d,(a,b)=>{c=ci(c,b,b=>((a,b,c)=>{if(bX(b))switch(b[0]){case"symbol":return b7.untransform(a,b,c);case"class":return cb.untransform(a,b,c);case"custom":return cc.untransform(a,b,c);case"typed-array":return b9.untransform(a,b,c);default:throw Error("Unknown transformation: "+b)}{let d=cf[b];if(!d)throw Error("Unknown transformation: "+b);return d.untransform(a,c)}})(b,a,f))},e),i=c),h?.referentialEqualities&&(i=function(a,b,c){let d=c<1;function e(b,c){let e=((a,b)=>{ch(b);for(let c=0;c<b.length;c++){let d=b[c];if(bZ(a))a=cg(a,+d);else if(bY(a)){let e=+d,f=0==+b[++c]?"key":"value",g=cg(a,e);switch(f){case"key":a=g;break;case"value":a=a.get(g)}}else a=a[d]}return a})(a,b3(c,d));b.map(a=>b3(a,d)).forEach(b=>{a=ci(a,b,()=>e)})}if(bX(b)){let[c,f]=b;c.forEach(b=>{a=ci(a,b3(b,d),()=>a)}),f&&bQ(f,e)}else bQ(b,e);return a}(i,h.referentialEqualities,h.v??0)),i}stringify(a){return JSON.stringify(this.serialize(a))}parse(a){return this.deserialize(JSON.parse(a),{inPlace:!0})}registerClass(a,b){this.classRegistry.register(a,b)}registerSymbol(a,b){this.symbolRegistry.register(a,b)}registerCustom(a,b){this.customTransformerRegistry.register({name:b,...a})}allowErrorProps(...a){this.allowedErrorProps.push(...a)}}cm.defaultInstance=new cm,cm.serialize=cm.defaultInstance.serialize.bind(cm.defaultInstance),cm.deserialize=cm.defaultInstance.deserialize.bind(cm.defaultInstance),cm.stringify=cm.defaultInstance.stringify.bind(cm.defaultInstance),cm.parse=cm.defaultInstance.parse.bind(cm.defaultInstance),cm.registerClass=cm.defaultInstance.registerClass.bind(cm.defaultInstance),cm.registerSymbol=cm.defaultInstance.registerSymbol.bind(cm.defaultInstance),cm.registerCustom=cm.defaultInstance.registerCustom.bind(cm.defaultInstance),cm.allowErrorProps=cm.defaultInstance.allowErrorProps.bind(cm.defaultInstance),cm.serialize,cm.deserialize,cm.stringify,cm.parse,cm.registerClass,cm.registerCustom,cm.registerSymbol,cm.allowErrorProps,function(a){a.assertEqual=a=>{},a.assertIs=function(a){},a.assertNever=function(a){throw Error()},a.arrayToEnum=a=>{let b={};for(let c of a)b[c]=c;return b},a.getValidEnumValues=b=>{let c=a.objectKeys(b).filter(a=>"number"!=typeof b[b[a]]),d={};for(let a of c)d[a]=b[a];return a.objectValues(d)},a.objectValues=b=>a.objectKeys(b).map(function(a){return b[a]}),a.objectKeys="function"==typeof Object.keys?a=>Object.keys(a):a=>{let b=[];for(let c in a)Object.prototype.hasOwnProperty.call(a,c)&&b.push(c);return b},a.find=(a,b)=>{for(let c of a)if(b(c))return c},a.isInteger="function"==typeof Number.isInteger?a=>Number.isInteger(a):a=>"number"==typeof a&&Number.isFinite(a)&&Math.floor(a)===a,a.joinValues=function(a,b=" | "){return a.map(a=>"string"==typeof a?`'${a}'`:a).join(b)},a.jsonStringifyReplacer=(a,b)=>"bigint"==typeof b?b.toString():b}(k||(k={})),(l||(l={})).mergeShapes=(a,b)=>({...a,...b});let cn=k.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),co=a=>{switch(typeof a){case"undefined":return cn.undefined;case"string":return cn.string;case"number":return Number.isNaN(a)?cn.nan:cn.number;case"boolean":return cn.boolean;case"function":return cn.function;case"bigint":return cn.bigint;case"symbol":return cn.symbol;case"object":if(Array.isArray(a))return cn.array;if(null===a)return cn.null;if(a.then&&"function"==typeof a.then&&a.catch&&"function"==typeof a.catch)return cn.promise;if("undefined"!=typeof Map&&a instanceof Map)return cn.map;if("undefined"!=typeof Set&&a instanceof Set)return cn.set;if("undefined"!=typeof Date&&a instanceof Date)return cn.date;return cn.object;default:return cn.unknown}},cp=k.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class cq extends Error{get errors(){return this.issues}constructor(a){super(),this.issues=[],this.addIssue=a=>{this.issues=[...this.issues,a]},this.addIssues=(a=[])=>{this.issues=[...this.issues,...a]};let b=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,b):this.__proto__=b,this.name="ZodError",this.issues=a}format(a){let b=a||function(a){return a.message},c={_errors:[]},d=a=>{for(let e of a.issues)if("invalid_union"===e.code)e.unionErrors.map(d);else if("invalid_return_type"===e.code)d(e.returnTypeError);else if("invalid_arguments"===e.code)d(e.argumentsError);else if(0===e.path.length)c._errors.push(b(e));else{let a=c,d=0;for(;d<e.path.length;){let c=e.path[d];d===e.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(b(e))):a[c]=a[c]||{_errors:[]},a=a[c],d++}}};return d(this),c}static assert(a){if(!(a instanceof cq))throw Error(`Not a ZodError: ${a}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,k.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(a=a=>a.message){let b={},c=[];for(let d of this.issues)if(d.path.length>0){let c=d.path[0];b[c]=b[c]||[],b[c].push(a(d))}else c.push(a(d));return{formErrors:c,fieldErrors:b}}get formErrors(){return this.flatten()}}cq.create=a=>new cq(a),c(52963),c(19424);let cr=bM.context().create({transformer:cm,errorFormatter:({shape:a,error:b})=>({...a,data:{...a.data,zodError:b.cause instanceof cq?b.cause.flatten():null}})});cr.createCallerFactory;let cs=cr.router,ct=cr.procedure,cu=cr.procedure.use(({ctx:a,next:b})=>{if(!a.session||!a.session.user)throw new ak({code:"UNAUTHORIZED"});return b({ctx:{session:{...a.session,user:a.session.user}}})}),cv=(a,b)=>{let c;switch(a.code){case cp.invalid_type:c=a.received===cn.undefined?"Required":`Expected ${a.expected}, received ${a.received}`;break;case cp.invalid_literal:c=`Invalid literal value, expected ${JSON.stringify(a.expected,k.jsonStringifyReplacer)}`;break;case cp.unrecognized_keys:c=`Unrecognized key(s) in object: ${k.joinValues(a.keys,", ")}`;break;case cp.invalid_union:c="Invalid input";break;case cp.invalid_union_discriminator:c=`Invalid discriminator value. Expected ${k.joinValues(a.options)}`;break;case cp.invalid_enum_value:c=`Invalid enum value. Expected ${k.joinValues(a.options)}, received '${a.received}'`;break;case cp.invalid_arguments:c="Invalid function arguments";break;case cp.invalid_return_type:c="Invalid function return type";break;case cp.invalid_date:c="Invalid date";break;case cp.invalid_string:"object"==typeof a.validation?"includes"in a.validation?(c=`Invalid input: must include "${a.validation.includes}"`,"number"==typeof a.validation.position&&(c=`${c} at one or more positions greater than or equal to ${a.validation.position}`)):"startsWith"in a.validation?c=`Invalid input: must start with "${a.validation.startsWith}"`:"endsWith"in a.validation?c=`Invalid input: must end with "${a.validation.endsWith}"`:k.assertNever(a.validation):c="regex"!==a.validation?`Invalid ${a.validation}`:"Invalid";break;case cp.too_small:c="array"===a.type?`Array must contain ${a.exact?"exactly":a.inclusive?"at least":"more than"} ${a.minimum} element(s)`:"string"===a.type?`String must contain ${a.exact?"exactly":a.inclusive?"at least":"over"} ${a.minimum} character(s)`:"number"===a.type||"bigint"===a.type?`Number must be ${a.exact?"exactly equal to ":a.inclusive?"greater than or equal to ":"greater than "}${a.minimum}`:"date"===a.type?`Date must be ${a.exact?"exactly equal to ":a.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(a.minimum))}`:"Invalid input";break;case cp.too_big:c="array"===a.type?`Array must contain ${a.exact?"exactly":a.inclusive?"at most":"less than"} ${a.maximum} element(s)`:"string"===a.type?`String must contain ${a.exact?"exactly":a.inclusive?"at most":"under"} ${a.maximum} character(s)`:"number"===a.type?`Number must be ${a.exact?"exactly":a.inclusive?"less than or equal to":"less than"} ${a.maximum}`:"bigint"===a.type?`BigInt must be ${a.exact?"exactly":a.inclusive?"less than or equal to":"less than"} ${a.maximum}`:"date"===a.type?`Date must be ${a.exact?"exactly":a.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(a.maximum))}`:"Invalid input";break;case cp.custom:c="Invalid input";break;case cp.invalid_intersection_types:c="Intersection results could not be merged";break;case cp.not_multiple_of:c=`Number must be a multiple of ${a.multipleOf}`;break;case cp.not_finite:c="Number must be finite";break;default:c=b.defaultError,k.assertNever(a)}return{message:c}};!function(a){a.errToObj=a=>"string"==typeof a?{message:a}:a||{},a.toString=a=>"string"==typeof a?a:a?.message}(m||(m={}));let cw=a=>{let{data:b,path:c,errorMaps:d,issueData:e}=a,f=[...c,...e.path||[]],g={...e,path:f};if(void 0!==e.message)return{...e,path:f,message:e.message};let h="";for(let a of d.filter(a=>!!a).slice().reverse())h=a(g,{data:b,defaultError:h}).message;return{...e,path:f,message:h}};function cx(a,b){let c=cw({issueData:b,data:a.data,path:a.path,errorMaps:[a.common.contextualErrorMap,a.schemaErrorMap,cv,void 0].filter(a=>!!a)});a.common.issues.push(c)}class cy{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(a,b){let c=[];for(let d of b){if("aborted"===d.status)return cz;"dirty"===d.status&&a.dirty(),c.push(d.value)}return{status:a.value,value:c}}static async mergeObjectAsync(a,b){let c=[];for(let a of b){let b=await a.key,d=await a.value;c.push({key:b,value:d})}return cy.mergeObjectSync(a,c)}static mergeObjectSync(a,b){let c={};for(let d of b){let{key:b,value:e}=d;if("aborted"===b.status||"aborted"===e.status)return cz;"dirty"===b.status&&a.dirty(),"dirty"===e.status&&a.dirty(),"__proto__"!==b.value&&(void 0!==e.value||d.alwaysSet)&&(c[b.value]=e.value)}return{status:a.value,value:c}}}let cz=Object.freeze({status:"aborted"}),cA=a=>({status:"dirty",value:a}),cB=a=>({status:"valid",value:a}),cC=a=>"undefined"!=typeof Promise&&a instanceof Promise;class cD{constructor(a,b,c,d){this._cachedPath=[],this.parent=a,this.data=b,this._path=c,this._key=d}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}let cE=(a,b)=>{if("valid"===b.status)return{success:!0,data:b.value};if(!a.common.issues.length)throw Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let b=new cq(a.common.issues);return this._error=b,this._error}}};function cF(a){if(!a)return{};let{errorMap:b,invalid_type_error:c,required_error:d,description:e}=a;if(b&&(c||d))throw Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return b?{errorMap:b,description:e}:{errorMap:(b,e)=>{let{message:f}=a;return"invalid_enum_value"===b.code?{message:f??e.defaultError}:void 0===e.data?{message:f??d??e.defaultError}:"invalid_type"!==b.code?{message:e.defaultError}:{message:f??c??e.defaultError}},description:e}}class cG{get description(){return this._def.description}_getType(a){return co(a.data)}_getOrReturnCtx(a,b){return b||{common:a.parent.common,data:a.data,parsedType:co(a.data),schemaErrorMap:this._def.errorMap,path:a.path,parent:a.parent}}_processInputParams(a){return{status:new cy,ctx:{common:a.parent.common,data:a.data,parsedType:co(a.data),schemaErrorMap:this._def.errorMap,path:a.path,parent:a.parent}}}_parseSync(a){let b=this._parse(a);if(cC(b))throw Error("Synchronous parse encountered promise.");return b}_parseAsync(a){return Promise.resolve(this._parse(a))}parse(a,b){let c=this.safeParse(a,b);if(c.success)return c.data;throw c.error}safeParse(a,b){let c={common:{issues:[],async:b?.async??!1,contextualErrorMap:b?.errorMap},path:b?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:a,parsedType:co(a)},d=this._parseSync({data:a,path:c.path,parent:c});return cE(c,d)}"~validate"(a){let b={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:a,parsedType:co(a)};if(!this["~standard"].async)try{let c=this._parseSync({data:a,path:[],parent:b});return"valid"===c.status?{value:c.value}:{issues:b.common.issues}}catch(a){a?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),b.common={issues:[],async:!0}}return this._parseAsync({data:a,path:[],parent:b}).then(a=>"valid"===a.status?{value:a.value}:{issues:b.common.issues})}async parseAsync(a,b){let c=await this.safeParseAsync(a,b);if(c.success)return c.data;throw c.error}async safeParseAsync(a,b){let c={common:{issues:[],contextualErrorMap:b?.errorMap,async:!0},path:b?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:a,parsedType:co(a)},d=this._parse({data:a,path:c.path,parent:c});return cE(c,await (cC(d)?d:Promise.resolve(d)))}refine(a,b){return this._refinement((c,d)=>{let e=a(c),f=()=>d.addIssue({code:cp.custom,..."string"==typeof b||void 0===b?{message:b}:"function"==typeof b?b(c):b});return"undefined"!=typeof Promise&&e instanceof Promise?e.then(a=>!!a||(f(),!1)):!!e||(f(),!1)})}refinement(a,b){return this._refinement((c,d)=>!!a(c)||(d.addIssue("function"==typeof b?b(c,d):b),!1))}_refinement(a){return new dq({schema:this,typeName:n.ZodEffects,effect:{type:"refinement",refinement:a}})}superRefine(a){return this._refinement(a)}constructor(a){this.spa=this.safeParseAsync,this._def=a,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:a=>this["~validate"](a)}}optional(){return dr.create(this,this._def)}nullable(){return ds.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return c8.create(this)}promise(){return dp.create(this,this._def)}or(a){return da.create([this,a],this._def)}and(a){return dd.create(this,a,this._def)}transform(a){return new dq({...cF(this._def),schema:this,typeName:n.ZodEffects,effect:{type:"transform",transform:a}})}default(a){return new dt({...cF(this._def),innerType:this,defaultValue:"function"==typeof a?a:()=>a,typeName:n.ZodDefault})}brand(){return new dw({typeName:n.ZodBranded,type:this,...cF(this._def)})}catch(a){return new du({...cF(this._def),innerType:this,catchValue:"function"==typeof a?a:()=>a,typeName:n.ZodCatch})}describe(a){return new this.constructor({...this._def,description:a})}pipe(a){return dx.create(this,a)}readonly(){return dy.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}let cH=/^c[^\s-]{8,}$/i,cI=/^[0-9a-z]+$/,cJ=/^[0-9A-HJKMNP-TV-Z]{26}$/i,cK=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,cL=/^[a-z0-9_-]{21}$/i,cM=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,cN=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,cO=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,cP=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,cQ=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,cR=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,cS=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,cT=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,cU=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,cV="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",cW=RegExp(`^${cV}$`);function cX(a){let b="[0-5]\\d";a.precision?b=`${b}\\.\\d{${a.precision}}`:null==a.precision&&(b=`${b}(\\.\\d+)?`);let c=a.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${b})${c}`}class cY extends cG{_parse(a){var b,c,d,f;let g;if(this._def.coerce&&(a.data=String(a.data)),this._getType(a)!==cn.string){let b=this._getOrReturnCtx(a);return cx(b,{code:cp.invalid_type,expected:cn.string,received:b.parsedType}),cz}let h=new cy;for(let i of this._def.checks)if("min"===i.kind)a.data.length<i.value&&(cx(g=this._getOrReturnCtx(a,g),{code:cp.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),h.dirty());else if("max"===i.kind)a.data.length>i.value&&(cx(g=this._getOrReturnCtx(a,g),{code:cp.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),h.dirty());else if("length"===i.kind){let b=a.data.length>i.value,c=a.data.length<i.value;(b||c)&&(g=this._getOrReturnCtx(a,g),b?cx(g,{code:cp.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):c&&cx(g,{code:cp.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),h.dirty())}else if("email"===i.kind)cO.test(a.data)||(cx(g=this._getOrReturnCtx(a,g),{validation:"email",code:cp.invalid_string,message:i.message}),h.dirty());else if("emoji"===i.kind)e||(e=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),e.test(a.data)||(cx(g=this._getOrReturnCtx(a,g),{validation:"emoji",code:cp.invalid_string,message:i.message}),h.dirty());else if("uuid"===i.kind)cK.test(a.data)||(cx(g=this._getOrReturnCtx(a,g),{validation:"uuid",code:cp.invalid_string,message:i.message}),h.dirty());else if("nanoid"===i.kind)cL.test(a.data)||(cx(g=this._getOrReturnCtx(a,g),{validation:"nanoid",code:cp.invalid_string,message:i.message}),h.dirty());else if("cuid"===i.kind)cH.test(a.data)||(cx(g=this._getOrReturnCtx(a,g),{validation:"cuid",code:cp.invalid_string,message:i.message}),h.dirty());else if("cuid2"===i.kind)cI.test(a.data)||(cx(g=this._getOrReturnCtx(a,g),{validation:"cuid2",code:cp.invalid_string,message:i.message}),h.dirty());else if("ulid"===i.kind)cJ.test(a.data)||(cx(g=this._getOrReturnCtx(a,g),{validation:"ulid",code:cp.invalid_string,message:i.message}),h.dirty());else if("url"===i.kind)try{new URL(a.data)}catch{cx(g=this._getOrReturnCtx(a,g),{validation:"url",code:cp.invalid_string,message:i.message}),h.dirty()}else"regex"===i.kind?(i.regex.lastIndex=0,i.regex.test(a.data)||(cx(g=this._getOrReturnCtx(a,g),{validation:"regex",code:cp.invalid_string,message:i.message}),h.dirty())):"trim"===i.kind?a.data=a.data.trim():"includes"===i.kind?a.data.includes(i.value,i.position)||(cx(g=this._getOrReturnCtx(a,g),{code:cp.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),h.dirty()):"toLowerCase"===i.kind?a.data=a.data.toLowerCase():"toUpperCase"===i.kind?a.data=a.data.toUpperCase():"startsWith"===i.kind?a.data.startsWith(i.value)||(cx(g=this._getOrReturnCtx(a,g),{code:cp.invalid_string,validation:{startsWith:i.value},message:i.message}),h.dirty()):"endsWith"===i.kind?a.data.endsWith(i.value)||(cx(g=this._getOrReturnCtx(a,g),{code:cp.invalid_string,validation:{endsWith:i.value},message:i.message}),h.dirty()):"datetime"===i.kind?(function(a){let b=`${cV}T${cX(a)}`,c=[];return c.push(a.local?"Z?":"Z"),a.offset&&c.push("([+-]\\d{2}:?\\d{2})"),b=`${b}(${c.join("|")})`,RegExp(`^${b}$`)})(i).test(a.data)||(cx(g=this._getOrReturnCtx(a,g),{code:cp.invalid_string,validation:"datetime",message:i.message}),h.dirty()):"date"===i.kind?cW.test(a.data)||(cx(g=this._getOrReturnCtx(a,g),{code:cp.invalid_string,validation:"date",message:i.message}),h.dirty()):"time"===i.kind?RegExp(`^${cX(i)}$`).test(a.data)||(cx(g=this._getOrReturnCtx(a,g),{code:cp.invalid_string,validation:"time",message:i.message}),h.dirty()):"duration"===i.kind?cN.test(a.data)||(cx(g=this._getOrReturnCtx(a,g),{validation:"duration",code:cp.invalid_string,message:i.message}),h.dirty()):"ip"===i.kind?(b=a.data,!(("v4"===(c=i.version)||!c)&&cP.test(b)||("v6"===c||!c)&&cR.test(b))&&1&&(cx(g=this._getOrReturnCtx(a,g),{validation:"ip",code:cp.invalid_string,message:i.message}),h.dirty())):"jwt"===i.kind?!function(a,b){if(!cM.test(a))return!1;try{let[c]=a.split(".");if(!c)return!1;let d=c.replace(/-/g,"+").replace(/_/g,"/").padEnd(c.length+(4-c.length%4)%4,"="),e=JSON.parse(atob(d));if("object"!=typeof e||null===e||"typ"in e&&e?.typ!=="JWT"||!e.alg||b&&e.alg!==b)return!1;return!0}catch{return!1}}(a.data,i.alg)&&(cx(g=this._getOrReturnCtx(a,g),{validation:"jwt",code:cp.invalid_string,message:i.message}),h.dirty()):"cidr"===i.kind?(d=a.data,!(("v4"===(f=i.version)||!f)&&cQ.test(d)||("v6"===f||!f)&&cS.test(d))&&1&&(cx(g=this._getOrReturnCtx(a,g),{validation:"cidr",code:cp.invalid_string,message:i.message}),h.dirty())):"base64"===i.kind?cT.test(a.data)||(cx(g=this._getOrReturnCtx(a,g),{validation:"base64",code:cp.invalid_string,message:i.message}),h.dirty()):"base64url"===i.kind?cU.test(a.data)||(cx(g=this._getOrReturnCtx(a,g),{validation:"base64url",code:cp.invalid_string,message:i.message}),h.dirty()):k.assertNever(i);return{status:h.value,value:a.data}}_regex(a,b,c){return this.refinement(b=>a.test(b),{validation:b,code:cp.invalid_string,...m.errToObj(c)})}_addCheck(a){return new cY({...this._def,checks:[...this._def.checks,a]})}email(a){return this._addCheck({kind:"email",...m.errToObj(a)})}url(a){return this._addCheck({kind:"url",...m.errToObj(a)})}emoji(a){return this._addCheck({kind:"emoji",...m.errToObj(a)})}uuid(a){return this._addCheck({kind:"uuid",...m.errToObj(a)})}nanoid(a){return this._addCheck({kind:"nanoid",...m.errToObj(a)})}cuid(a){return this._addCheck({kind:"cuid",...m.errToObj(a)})}cuid2(a){return this._addCheck({kind:"cuid2",...m.errToObj(a)})}ulid(a){return this._addCheck({kind:"ulid",...m.errToObj(a)})}base64(a){return this._addCheck({kind:"base64",...m.errToObj(a)})}base64url(a){return this._addCheck({kind:"base64url",...m.errToObj(a)})}jwt(a){return this._addCheck({kind:"jwt",...m.errToObj(a)})}ip(a){return this._addCheck({kind:"ip",...m.errToObj(a)})}cidr(a){return this._addCheck({kind:"cidr",...m.errToObj(a)})}datetime(a){return"string"==typeof a?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:a}):this._addCheck({kind:"datetime",precision:void 0===a?.precision?null:a?.precision,offset:a?.offset??!1,local:a?.local??!1,...m.errToObj(a?.message)})}date(a){return this._addCheck({kind:"date",message:a})}time(a){return"string"==typeof a?this._addCheck({kind:"time",precision:null,message:a}):this._addCheck({kind:"time",precision:void 0===a?.precision?null:a?.precision,...m.errToObj(a?.message)})}duration(a){return this._addCheck({kind:"duration",...m.errToObj(a)})}regex(a,b){return this._addCheck({kind:"regex",regex:a,...m.errToObj(b)})}includes(a,b){return this._addCheck({kind:"includes",value:a,position:b?.position,...m.errToObj(b?.message)})}startsWith(a,b){return this._addCheck({kind:"startsWith",value:a,...m.errToObj(b)})}endsWith(a,b){return this._addCheck({kind:"endsWith",value:a,...m.errToObj(b)})}min(a,b){return this._addCheck({kind:"min",value:a,...m.errToObj(b)})}max(a,b){return this._addCheck({kind:"max",value:a,...m.errToObj(b)})}length(a,b){return this._addCheck({kind:"length",value:a,...m.errToObj(b)})}nonempty(a){return this.min(1,m.errToObj(a))}trim(){return new cY({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new cY({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new cY({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(a=>"datetime"===a.kind)}get isDate(){return!!this._def.checks.find(a=>"date"===a.kind)}get isTime(){return!!this._def.checks.find(a=>"time"===a.kind)}get isDuration(){return!!this._def.checks.find(a=>"duration"===a.kind)}get isEmail(){return!!this._def.checks.find(a=>"email"===a.kind)}get isURL(){return!!this._def.checks.find(a=>"url"===a.kind)}get isEmoji(){return!!this._def.checks.find(a=>"emoji"===a.kind)}get isUUID(){return!!this._def.checks.find(a=>"uuid"===a.kind)}get isNANOID(){return!!this._def.checks.find(a=>"nanoid"===a.kind)}get isCUID(){return!!this._def.checks.find(a=>"cuid"===a.kind)}get isCUID2(){return!!this._def.checks.find(a=>"cuid2"===a.kind)}get isULID(){return!!this._def.checks.find(a=>"ulid"===a.kind)}get isIP(){return!!this._def.checks.find(a=>"ip"===a.kind)}get isCIDR(){return!!this._def.checks.find(a=>"cidr"===a.kind)}get isBase64(){return!!this._def.checks.find(a=>"base64"===a.kind)}get isBase64url(){return!!this._def.checks.find(a=>"base64url"===a.kind)}get minLength(){let a=null;for(let b of this._def.checks)"min"===b.kind&&(null===a||b.value>a)&&(a=b.value);return a}get maxLength(){let a=null;for(let b of this._def.checks)"max"===b.kind&&(null===a||b.value<a)&&(a=b.value);return a}}cY.create=a=>new cY({checks:[],typeName:n.ZodString,coerce:a?.coerce??!1,...cF(a)});class cZ extends cG{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(a){let b;if(this._def.coerce&&(a.data=Number(a.data)),this._getType(a)!==cn.number){let b=this._getOrReturnCtx(a);return cx(b,{code:cp.invalid_type,expected:cn.number,received:b.parsedType}),cz}let c=new cy;for(let d of this._def.checks)"int"===d.kind?k.isInteger(a.data)||(cx(b=this._getOrReturnCtx(a,b),{code:cp.invalid_type,expected:"integer",received:"float",message:d.message}),c.dirty()):"min"===d.kind?(d.inclusive?a.data<d.value:a.data<=d.value)&&(cx(b=this._getOrReturnCtx(a,b),{code:cp.too_small,minimum:d.value,type:"number",inclusive:d.inclusive,exact:!1,message:d.message}),c.dirty()):"max"===d.kind?(d.inclusive?a.data>d.value:a.data>=d.value)&&(cx(b=this._getOrReturnCtx(a,b),{code:cp.too_big,maximum:d.value,type:"number",inclusive:d.inclusive,exact:!1,message:d.message}),c.dirty()):"multipleOf"===d.kind?0!==function(a,b){let c=(a.toString().split(".")[1]||"").length,d=(b.toString().split(".")[1]||"").length,e=c>d?c:d;return Number.parseInt(a.toFixed(e).replace(".",""))%Number.parseInt(b.toFixed(e).replace(".",""))/10**e}(a.data,d.value)&&(cx(b=this._getOrReturnCtx(a,b),{code:cp.not_multiple_of,multipleOf:d.value,message:d.message}),c.dirty()):"finite"===d.kind?Number.isFinite(a.data)||(cx(b=this._getOrReturnCtx(a,b),{code:cp.not_finite,message:d.message}),c.dirty()):k.assertNever(d);return{status:c.value,value:a.data}}gte(a,b){return this.setLimit("min",a,!0,m.toString(b))}gt(a,b){return this.setLimit("min",a,!1,m.toString(b))}lte(a,b){return this.setLimit("max",a,!0,m.toString(b))}lt(a,b){return this.setLimit("max",a,!1,m.toString(b))}setLimit(a,b,c,d){return new cZ({...this._def,checks:[...this._def.checks,{kind:a,value:b,inclusive:c,message:m.toString(d)}]})}_addCheck(a){return new cZ({...this._def,checks:[...this._def.checks,a]})}int(a){return this._addCheck({kind:"int",message:m.toString(a)})}positive(a){return this._addCheck({kind:"min",value:0,inclusive:!1,message:m.toString(a)})}negative(a){return this._addCheck({kind:"max",value:0,inclusive:!1,message:m.toString(a)})}nonpositive(a){return this._addCheck({kind:"max",value:0,inclusive:!0,message:m.toString(a)})}nonnegative(a){return this._addCheck({kind:"min",value:0,inclusive:!0,message:m.toString(a)})}multipleOf(a,b){return this._addCheck({kind:"multipleOf",value:a,message:m.toString(b)})}finite(a){return this._addCheck({kind:"finite",message:m.toString(a)})}safe(a){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:m.toString(a)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:m.toString(a)})}get minValue(){let a=null;for(let b of this._def.checks)"min"===b.kind&&(null===a||b.value>a)&&(a=b.value);return a}get maxValue(){let a=null;for(let b of this._def.checks)"max"===b.kind&&(null===a||b.value<a)&&(a=b.value);return a}get isInt(){return!!this._def.checks.find(a=>"int"===a.kind||"multipleOf"===a.kind&&k.isInteger(a.value))}get isFinite(){let a=null,b=null;for(let c of this._def.checks)if("finite"===c.kind||"int"===c.kind||"multipleOf"===c.kind)return!0;else"min"===c.kind?(null===b||c.value>b)&&(b=c.value):"max"===c.kind&&(null===a||c.value<a)&&(a=c.value);return Number.isFinite(b)&&Number.isFinite(a)}}cZ.create=a=>new cZ({checks:[],typeName:n.ZodNumber,coerce:a?.coerce||!1,...cF(a)});class c$ extends cG{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(a){let b;if(this._def.coerce)try{a.data=BigInt(a.data)}catch{return this._getInvalidInput(a)}if(this._getType(a)!==cn.bigint)return this._getInvalidInput(a);let c=new cy;for(let d of this._def.checks)"min"===d.kind?(d.inclusive?a.data<d.value:a.data<=d.value)&&(cx(b=this._getOrReturnCtx(a,b),{code:cp.too_small,type:"bigint",minimum:d.value,inclusive:d.inclusive,message:d.message}),c.dirty()):"max"===d.kind?(d.inclusive?a.data>d.value:a.data>=d.value)&&(cx(b=this._getOrReturnCtx(a,b),{code:cp.too_big,type:"bigint",maximum:d.value,inclusive:d.inclusive,message:d.message}),c.dirty()):"multipleOf"===d.kind?a.data%d.value!==BigInt(0)&&(cx(b=this._getOrReturnCtx(a,b),{code:cp.not_multiple_of,multipleOf:d.value,message:d.message}),c.dirty()):k.assertNever(d);return{status:c.value,value:a.data}}_getInvalidInput(a){let b=this._getOrReturnCtx(a);return cx(b,{code:cp.invalid_type,expected:cn.bigint,received:b.parsedType}),cz}gte(a,b){return this.setLimit("min",a,!0,m.toString(b))}gt(a,b){return this.setLimit("min",a,!1,m.toString(b))}lte(a,b){return this.setLimit("max",a,!0,m.toString(b))}lt(a,b){return this.setLimit("max",a,!1,m.toString(b))}setLimit(a,b,c,d){return new c$({...this._def,checks:[...this._def.checks,{kind:a,value:b,inclusive:c,message:m.toString(d)}]})}_addCheck(a){return new c$({...this._def,checks:[...this._def.checks,a]})}positive(a){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:m.toString(a)})}negative(a){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:m.toString(a)})}nonpositive(a){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:m.toString(a)})}nonnegative(a){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:m.toString(a)})}multipleOf(a,b){return this._addCheck({kind:"multipleOf",value:a,message:m.toString(b)})}get minValue(){let a=null;for(let b of this._def.checks)"min"===b.kind&&(null===a||b.value>a)&&(a=b.value);return a}get maxValue(){let a=null;for(let b of this._def.checks)"max"===b.kind&&(null===a||b.value<a)&&(a=b.value);return a}}c$.create=a=>new c$({checks:[],typeName:n.ZodBigInt,coerce:a?.coerce??!1,...cF(a)});class c_ extends cG{_parse(a){if(this._def.coerce&&(a.data=!!a.data),this._getType(a)!==cn.boolean){let b=this._getOrReturnCtx(a);return cx(b,{code:cp.invalid_type,expected:cn.boolean,received:b.parsedType}),cz}return cB(a.data)}}c_.create=a=>new c_({typeName:n.ZodBoolean,coerce:a?.coerce||!1,...cF(a)});class c0 extends cG{_parse(a){let b;if(this._def.coerce&&(a.data=new Date(a.data)),this._getType(a)!==cn.date){let b=this._getOrReturnCtx(a);return cx(b,{code:cp.invalid_type,expected:cn.date,received:b.parsedType}),cz}if(Number.isNaN(a.data.getTime()))return cx(this._getOrReturnCtx(a),{code:cp.invalid_date}),cz;let c=new cy;for(let d of this._def.checks)"min"===d.kind?a.data.getTime()<d.value&&(cx(b=this._getOrReturnCtx(a,b),{code:cp.too_small,message:d.message,inclusive:!0,exact:!1,minimum:d.value,type:"date"}),c.dirty()):"max"===d.kind?a.data.getTime()>d.value&&(cx(b=this._getOrReturnCtx(a,b),{code:cp.too_big,message:d.message,inclusive:!0,exact:!1,maximum:d.value,type:"date"}),c.dirty()):k.assertNever(d);return{status:c.value,value:new Date(a.data.getTime())}}_addCheck(a){return new c0({...this._def,checks:[...this._def.checks,a]})}min(a,b){return this._addCheck({kind:"min",value:a.getTime(),message:m.toString(b)})}max(a,b){return this._addCheck({kind:"max",value:a.getTime(),message:m.toString(b)})}get minDate(){let a=null;for(let b of this._def.checks)"min"===b.kind&&(null===a||b.value>a)&&(a=b.value);return null!=a?new Date(a):null}get maxDate(){let a=null;for(let b of this._def.checks)"max"===b.kind&&(null===a||b.value<a)&&(a=b.value);return null!=a?new Date(a):null}}c0.create=a=>new c0({checks:[],coerce:a?.coerce||!1,typeName:n.ZodDate,...cF(a)});class c1 extends cG{_parse(a){if(this._getType(a)!==cn.symbol){let b=this._getOrReturnCtx(a);return cx(b,{code:cp.invalid_type,expected:cn.symbol,received:b.parsedType}),cz}return cB(a.data)}}c1.create=a=>new c1({typeName:n.ZodSymbol,...cF(a)});class c2 extends cG{_parse(a){if(this._getType(a)!==cn.undefined){let b=this._getOrReturnCtx(a);return cx(b,{code:cp.invalid_type,expected:cn.undefined,received:b.parsedType}),cz}return cB(a.data)}}c2.create=a=>new c2({typeName:n.ZodUndefined,...cF(a)});class c3 extends cG{_parse(a){if(this._getType(a)!==cn.null){let b=this._getOrReturnCtx(a);return cx(b,{code:cp.invalid_type,expected:cn.null,received:b.parsedType}),cz}return cB(a.data)}}c3.create=a=>new c3({typeName:n.ZodNull,...cF(a)});class c4 extends cG{constructor(){super(...arguments),this._any=!0}_parse(a){return cB(a.data)}}c4.create=a=>new c4({typeName:n.ZodAny,...cF(a)});class c5 extends cG{constructor(){super(...arguments),this._unknown=!0}_parse(a){return cB(a.data)}}c5.create=a=>new c5({typeName:n.ZodUnknown,...cF(a)});class c6 extends cG{_parse(a){let b=this._getOrReturnCtx(a);return cx(b,{code:cp.invalid_type,expected:cn.never,received:b.parsedType}),cz}}c6.create=a=>new c6({typeName:n.ZodNever,...cF(a)});class c7 extends cG{_parse(a){if(this._getType(a)!==cn.undefined){let b=this._getOrReturnCtx(a);return cx(b,{code:cp.invalid_type,expected:cn.void,received:b.parsedType}),cz}return cB(a.data)}}c7.create=a=>new c7({typeName:n.ZodVoid,...cF(a)});class c8 extends cG{_parse(a){let{ctx:b,status:c}=this._processInputParams(a),d=this._def;if(b.parsedType!==cn.array)return cx(b,{code:cp.invalid_type,expected:cn.array,received:b.parsedType}),cz;if(null!==d.exactLength){let a=b.data.length>d.exactLength.value,e=b.data.length<d.exactLength.value;(a||e)&&(cx(b,{code:a?cp.too_big:cp.too_small,minimum:e?d.exactLength.value:void 0,maximum:a?d.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:d.exactLength.message}),c.dirty())}if(null!==d.minLength&&b.data.length<d.minLength.value&&(cx(b,{code:cp.too_small,minimum:d.minLength.value,type:"array",inclusive:!0,exact:!1,message:d.minLength.message}),c.dirty()),null!==d.maxLength&&b.data.length>d.maxLength.value&&(cx(b,{code:cp.too_big,maximum:d.maxLength.value,type:"array",inclusive:!0,exact:!1,message:d.maxLength.message}),c.dirty()),b.common.async)return Promise.all([...b.data].map((a,c)=>d.type._parseAsync(new cD(b,a,b.path,c)))).then(a=>cy.mergeArray(c,a));let e=[...b.data].map((a,c)=>d.type._parseSync(new cD(b,a,b.path,c)));return cy.mergeArray(c,e)}get element(){return this._def.type}min(a,b){return new c8({...this._def,minLength:{value:a,message:m.toString(b)}})}max(a,b){return new c8({...this._def,maxLength:{value:a,message:m.toString(b)}})}length(a,b){return new c8({...this._def,exactLength:{value:a,message:m.toString(b)}})}nonempty(a){return this.min(1,a)}}c8.create=(a,b)=>new c8({type:a,minLength:null,maxLength:null,exactLength:null,typeName:n.ZodArray,...cF(b)});class c9 extends cG{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;let a=this._def.shape(),b=k.objectKeys(a);return this._cached={shape:a,keys:b},this._cached}_parse(a){if(this._getType(a)!==cn.object){let b=this._getOrReturnCtx(a);return cx(b,{code:cp.invalid_type,expected:cn.object,received:b.parsedType}),cz}let{status:b,ctx:c}=this._processInputParams(a),{shape:d,keys:e}=this._getCached(),f=[];if(!(this._def.catchall instanceof c6&&"strip"===this._def.unknownKeys))for(let a in c.data)e.includes(a)||f.push(a);let g=[];for(let a of e){let b=d[a],e=c.data[a];g.push({key:{status:"valid",value:a},value:b._parse(new cD(c,e,c.path,a)),alwaysSet:a in c.data})}if(this._def.catchall instanceof c6){let a=this._def.unknownKeys;if("passthrough"===a)for(let a of f)g.push({key:{status:"valid",value:a},value:{status:"valid",value:c.data[a]}});else if("strict"===a)f.length>0&&(cx(c,{code:cp.unrecognized_keys,keys:f}),b.dirty());else if("strip"===a);else throw Error("Internal ZodObject error: invalid unknownKeys value.")}else{let a=this._def.catchall;for(let b of f){let d=c.data[b];g.push({key:{status:"valid",value:b},value:a._parse(new cD(c,d,c.path,b)),alwaysSet:b in c.data})}}return c.common.async?Promise.resolve().then(async()=>{let a=[];for(let b of g){let c=await b.key,d=await b.value;a.push({key:c,value:d,alwaysSet:b.alwaysSet})}return a}).then(a=>cy.mergeObjectSync(b,a)):cy.mergeObjectSync(b,g)}get shape(){return this._def.shape()}strict(a){return m.errToObj,new c9({...this._def,unknownKeys:"strict",...void 0!==a?{errorMap:(b,c)=>{let d=this._def.errorMap?.(b,c).message??c.defaultError;return"unrecognized_keys"===b.code?{message:m.errToObj(a).message??d}:{message:d}}}:{}})}strip(){return new c9({...this._def,unknownKeys:"strip"})}passthrough(){return new c9({...this._def,unknownKeys:"passthrough"})}extend(a){return new c9({...this._def,shape:()=>({...this._def.shape(),...a})})}merge(a){return new c9({unknownKeys:a._def.unknownKeys,catchall:a._def.catchall,shape:()=>({...this._def.shape(),...a._def.shape()}),typeName:n.ZodObject})}setKey(a,b){return this.augment({[a]:b})}catchall(a){return new c9({...this._def,catchall:a})}pick(a){let b={};for(let c of k.objectKeys(a))a[c]&&this.shape[c]&&(b[c]=this.shape[c]);return new c9({...this._def,shape:()=>b})}omit(a){let b={};for(let c of k.objectKeys(this.shape))a[c]||(b[c]=this.shape[c]);return new c9({...this._def,shape:()=>b})}deepPartial(){return function a(b){if(b instanceof c9){let c={};for(let d in b.shape){let e=b.shape[d];c[d]=dr.create(a(e))}return new c9({...b._def,shape:()=>c})}if(b instanceof c8)return new c8({...b._def,type:a(b.element)});if(b instanceof dr)return dr.create(a(b.unwrap()));if(b instanceof ds)return ds.create(a(b.unwrap()));if(b instanceof de)return de.create(b.items.map(b=>a(b)));else return b}(this)}partial(a){let b={};for(let c of k.objectKeys(this.shape)){let d=this.shape[c];a&&!a[c]?b[c]=d:b[c]=d.optional()}return new c9({...this._def,shape:()=>b})}required(a){let b={};for(let c of k.objectKeys(this.shape))if(a&&!a[c])b[c]=this.shape[c];else{let a=this.shape[c];for(;a instanceof dr;)a=a._def.innerType;b[c]=a}return new c9({...this._def,shape:()=>b})}keyof(){return dl(k.objectKeys(this.shape))}}c9.create=(a,b)=>new c9({shape:()=>a,unknownKeys:"strip",catchall:c6.create(),typeName:n.ZodObject,...cF(b)}),c9.strictCreate=(a,b)=>new c9({shape:()=>a,unknownKeys:"strict",catchall:c6.create(),typeName:n.ZodObject,...cF(b)}),c9.lazycreate=(a,b)=>new c9({shape:a,unknownKeys:"strip",catchall:c6.create(),typeName:n.ZodObject,...cF(b)});class da extends cG{_parse(a){let{ctx:b}=this._processInputParams(a),c=this._def.options;if(b.common.async)return Promise.all(c.map(async a=>{let c={...b,common:{...b.common,issues:[]},parent:null};return{result:await a._parseAsync({data:b.data,path:b.path,parent:c}),ctx:c}})).then(function(a){for(let b of a)if("valid"===b.result.status)return b.result;for(let c of a)if("dirty"===c.result.status)return b.common.issues.push(...c.ctx.common.issues),c.result;let c=a.map(a=>new cq(a.ctx.common.issues));return cx(b,{code:cp.invalid_union,unionErrors:c}),cz});{let a,d=[];for(let e of c){let c={...b,common:{...b.common,issues:[]},parent:null},f=e._parseSync({data:b.data,path:b.path,parent:c});if("valid"===f.status)return f;"dirty"!==f.status||a||(a={result:f,ctx:c}),c.common.issues.length&&d.push(c.common.issues)}if(a)return b.common.issues.push(...a.ctx.common.issues),a.result;let e=d.map(a=>new cq(a));return cx(b,{code:cp.invalid_union,unionErrors:e}),cz}}get options(){return this._def.options}}da.create=(a,b)=>new da({options:a,typeName:n.ZodUnion,...cF(b)});let db=a=>{if(a instanceof dj)return db(a.schema);if(a instanceof dq)return db(a.innerType());if(a instanceof dk)return[a.value];if(a instanceof dm)return a.options;if(a instanceof dn)return k.objectValues(a.enum);else if(a instanceof dt)return db(a._def.innerType);else if(a instanceof c2)return[void 0];else if(a instanceof c3)return[null];else if(a instanceof dr)return[void 0,...db(a.unwrap())];else if(a instanceof ds)return[null,...db(a.unwrap())];else if(a instanceof dw)return db(a.unwrap());else if(a instanceof dy)return db(a.unwrap());else if(a instanceof du)return db(a._def.innerType);else return[]};class dc extends cG{_parse(a){let{ctx:b}=this._processInputParams(a);if(b.parsedType!==cn.object)return cx(b,{code:cp.invalid_type,expected:cn.object,received:b.parsedType}),cz;let c=this.discriminator,d=b.data[c],e=this.optionsMap.get(d);return e?b.common.async?e._parseAsync({data:b.data,path:b.path,parent:b}):e._parseSync({data:b.data,path:b.path,parent:b}):(cx(b,{code:cp.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[c]}),cz)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(a,b,c){let d=new Map;for(let c of b){let b=db(c.shape[a]);if(!b.length)throw Error(`A discriminator value for key \`${a}\` could not be extracted from all schema options`);for(let e of b){if(d.has(e))throw Error(`Discriminator property ${String(a)} has duplicate value ${String(e)}`);d.set(e,c)}}return new dc({typeName:n.ZodDiscriminatedUnion,discriminator:a,options:b,optionsMap:d,...cF(c)})}}class dd extends cG{_parse(a){let{status:b,ctx:c}=this._processInputParams(a),d=(a,d)=>{if("aborted"===a.status||"aborted"===d.status)return cz;let e=function a(b,c){let d=co(b),e=co(c);if(b===c)return{valid:!0,data:b};if(d===cn.object&&e===cn.object){let d=k.objectKeys(c),e=k.objectKeys(b).filter(a=>-1!==d.indexOf(a)),f={...b,...c};for(let d of e){let e=a(b[d],c[d]);if(!e.valid)return{valid:!1};f[d]=e.data}return{valid:!0,data:f}}if(d===cn.array&&e===cn.array){if(b.length!==c.length)return{valid:!1};let d=[];for(let e=0;e<b.length;e++){let f=a(b[e],c[e]);if(!f.valid)return{valid:!1};d.push(f.data)}return{valid:!0,data:d}}if(d===cn.date&&e===cn.date&&+b==+c)return{valid:!0,data:b};return{valid:!1}}(a.value,d.value);return e.valid?(("dirty"===a.status||"dirty"===d.status)&&b.dirty(),{status:b.value,value:e.data}):(cx(c,{code:cp.invalid_intersection_types}),cz)};return c.common.async?Promise.all([this._def.left._parseAsync({data:c.data,path:c.path,parent:c}),this._def.right._parseAsync({data:c.data,path:c.path,parent:c})]).then(([a,b])=>d(a,b)):d(this._def.left._parseSync({data:c.data,path:c.path,parent:c}),this._def.right._parseSync({data:c.data,path:c.path,parent:c}))}}dd.create=(a,b,c)=>new dd({left:a,right:b,typeName:n.ZodIntersection,...cF(c)});class de extends cG{_parse(a){let{status:b,ctx:c}=this._processInputParams(a);if(c.parsedType!==cn.array)return cx(c,{code:cp.invalid_type,expected:cn.array,received:c.parsedType}),cz;if(c.data.length<this._def.items.length)return cx(c,{code:cp.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),cz;!this._def.rest&&c.data.length>this._def.items.length&&(cx(c,{code:cp.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),b.dirty());let d=[...c.data].map((a,b)=>{let d=this._def.items[b]||this._def.rest;return d?d._parse(new cD(c,a,c.path,b)):null}).filter(a=>!!a);return c.common.async?Promise.all(d).then(a=>cy.mergeArray(b,a)):cy.mergeArray(b,d)}get items(){return this._def.items}rest(a){return new de({...this._def,rest:a})}}de.create=(a,b)=>{if(!Array.isArray(a))throw Error("You must pass an array of schemas to z.tuple([ ... ])");return new de({items:a,typeName:n.ZodTuple,rest:null,...cF(b)})};class df extends cG{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(a){let{status:b,ctx:c}=this._processInputParams(a);if(c.parsedType!==cn.object)return cx(c,{code:cp.invalid_type,expected:cn.object,received:c.parsedType}),cz;let d=[],e=this._def.keyType,f=this._def.valueType;for(let a in c.data)d.push({key:e._parse(new cD(c,a,c.path,a)),value:f._parse(new cD(c,c.data[a],c.path,a)),alwaysSet:a in c.data});return c.common.async?cy.mergeObjectAsync(b,d):cy.mergeObjectSync(b,d)}get element(){return this._def.valueType}static create(a,b,c){return new df(b instanceof cG?{keyType:a,valueType:b,typeName:n.ZodRecord,...cF(c)}:{keyType:cY.create(),valueType:a,typeName:n.ZodRecord,...cF(b)})}}class dg extends cG{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(a){let{status:b,ctx:c}=this._processInputParams(a);if(c.parsedType!==cn.map)return cx(c,{code:cp.invalid_type,expected:cn.map,received:c.parsedType}),cz;let d=this._def.keyType,e=this._def.valueType,f=[...c.data.entries()].map(([a,b],f)=>({key:d._parse(new cD(c,a,c.path,[f,"key"])),value:e._parse(new cD(c,b,c.path,[f,"value"]))}));if(c.common.async){let a=new Map;return Promise.resolve().then(async()=>{for(let c of f){let d=await c.key,e=await c.value;if("aborted"===d.status||"aborted"===e.status)return cz;("dirty"===d.status||"dirty"===e.status)&&b.dirty(),a.set(d.value,e.value)}return{status:b.value,value:a}})}{let a=new Map;for(let c of f){let d=c.key,e=c.value;if("aborted"===d.status||"aborted"===e.status)return cz;("dirty"===d.status||"dirty"===e.status)&&b.dirty(),a.set(d.value,e.value)}return{status:b.value,value:a}}}}dg.create=(a,b,c)=>new dg({valueType:b,keyType:a,typeName:n.ZodMap,...cF(c)});class dh extends cG{_parse(a){let{status:b,ctx:c}=this._processInputParams(a);if(c.parsedType!==cn.set)return cx(c,{code:cp.invalid_type,expected:cn.set,received:c.parsedType}),cz;let d=this._def;null!==d.minSize&&c.data.size<d.minSize.value&&(cx(c,{code:cp.too_small,minimum:d.minSize.value,type:"set",inclusive:!0,exact:!1,message:d.minSize.message}),b.dirty()),null!==d.maxSize&&c.data.size>d.maxSize.value&&(cx(c,{code:cp.too_big,maximum:d.maxSize.value,type:"set",inclusive:!0,exact:!1,message:d.maxSize.message}),b.dirty());let e=this._def.valueType;function f(a){let c=new Set;for(let d of a){if("aborted"===d.status)return cz;"dirty"===d.status&&b.dirty(),c.add(d.value)}return{status:b.value,value:c}}let g=[...c.data.values()].map((a,b)=>e._parse(new cD(c,a,c.path,b)));return c.common.async?Promise.all(g).then(a=>f(a)):f(g)}min(a,b){return new dh({...this._def,minSize:{value:a,message:m.toString(b)}})}max(a,b){return new dh({...this._def,maxSize:{value:a,message:m.toString(b)}})}size(a,b){return this.min(a,b).max(a,b)}nonempty(a){return this.min(1,a)}}dh.create=(a,b)=>new dh({valueType:a,minSize:null,maxSize:null,typeName:n.ZodSet,...cF(b)});class di extends cG{constructor(){super(...arguments),this.validate=this.implement}_parse(a){let{ctx:b}=this._processInputParams(a);if(b.parsedType!==cn.function)return cx(b,{code:cp.invalid_type,expected:cn.function,received:b.parsedType}),cz;function c(a,c){return cw({data:a,path:b.path,errorMaps:[b.common.contextualErrorMap,b.schemaErrorMap,cv,cv].filter(a=>!!a),issueData:{code:cp.invalid_arguments,argumentsError:c}})}function d(a,c){return cw({data:a,path:b.path,errorMaps:[b.common.contextualErrorMap,b.schemaErrorMap,cv,cv].filter(a=>!!a),issueData:{code:cp.invalid_return_type,returnTypeError:c}})}let e={errorMap:b.common.contextualErrorMap},f=b.data;if(this._def.returns instanceof dp){let a=this;return cB(async function(...b){let g=new cq([]),h=await a._def.args.parseAsync(b,e).catch(a=>{throw g.addIssue(c(b,a)),g}),i=await Reflect.apply(f,this,h);return await a._def.returns._def.type.parseAsync(i,e).catch(a=>{throw g.addIssue(d(i,a)),g})})}{let a=this;return cB(function(...b){let g=a._def.args.safeParse(b,e);if(!g.success)throw new cq([c(b,g.error)]);let h=Reflect.apply(f,this,g.data),i=a._def.returns.safeParse(h,e);if(!i.success)throw new cq([d(h,i.error)]);return i.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...a){return new di({...this._def,args:de.create(a).rest(c5.create())})}returns(a){return new di({...this._def,returns:a})}implement(a){return this.parse(a)}strictImplement(a){return this.parse(a)}static create(a,b,c){return new di({args:a||de.create([]).rest(c5.create()),returns:b||c5.create(),typeName:n.ZodFunction,...cF(c)})}}class dj extends cG{get schema(){return this._def.getter()}_parse(a){let{ctx:b}=this._processInputParams(a);return this._def.getter()._parse({data:b.data,path:b.path,parent:b})}}dj.create=(a,b)=>new dj({getter:a,typeName:n.ZodLazy,...cF(b)});class dk extends cG{_parse(a){if(a.data!==this._def.value){let b=this._getOrReturnCtx(a);return cx(b,{received:b.data,code:cp.invalid_literal,expected:this._def.value}),cz}return{status:"valid",value:a.data}}get value(){return this._def.value}}function dl(a,b){return new dm({values:a,typeName:n.ZodEnum,...cF(b)})}dk.create=(a,b)=>new dk({value:a,typeName:n.ZodLiteral,...cF(b)});class dm extends cG{_parse(a){if("string"!=typeof a.data){let b=this._getOrReturnCtx(a),c=this._def.values;return cx(b,{expected:k.joinValues(c),received:b.parsedType,code:cp.invalid_type}),cz}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(a.data)){let b=this._getOrReturnCtx(a),c=this._def.values;return cx(b,{received:b.data,code:cp.invalid_enum_value,options:c}),cz}return cB(a.data)}get options(){return this._def.values}get enum(){let a={};for(let b of this._def.values)a[b]=b;return a}get Values(){let a={};for(let b of this._def.values)a[b]=b;return a}get Enum(){let a={};for(let b of this._def.values)a[b]=b;return a}extract(a,b=this._def){return dm.create(a,{...this._def,...b})}exclude(a,b=this._def){return dm.create(this.options.filter(b=>!a.includes(b)),{...this._def,...b})}}dm.create=dl;class dn extends cG{_parse(a){let b=k.getValidEnumValues(this._def.values),c=this._getOrReturnCtx(a);if(c.parsedType!==cn.string&&c.parsedType!==cn.number){let a=k.objectValues(b);return cx(c,{expected:k.joinValues(a),received:c.parsedType,code:cp.invalid_type}),cz}if(this._cache||(this._cache=new Set(k.getValidEnumValues(this._def.values))),!this._cache.has(a.data)){let a=k.objectValues(b);return cx(c,{received:c.data,code:cp.invalid_enum_value,options:a}),cz}return cB(a.data)}get enum(){return this._def.values}}dn.create=(a,b)=>new dn({values:a,typeName:n.ZodNativeEnum,...cF(b)});class dp extends cG{unwrap(){return this._def.type}_parse(a){let{ctx:b}=this._processInputParams(a);return b.parsedType!==cn.promise&&!1===b.common.async?(cx(b,{code:cp.invalid_type,expected:cn.promise,received:b.parsedType}),cz):cB((b.parsedType===cn.promise?b.data:Promise.resolve(b.data)).then(a=>this._def.type.parseAsync(a,{path:b.path,errorMap:b.common.contextualErrorMap})))}}dp.create=(a,b)=>new dp({type:a,typeName:n.ZodPromise,...cF(b)});class dq extends cG{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===n.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(a){let{status:b,ctx:c}=this._processInputParams(a),d=this._def.effect||null,e={addIssue:a=>{cx(c,a),a.fatal?b.abort():b.dirty()},get path(){return c.path}};if(e.addIssue=e.addIssue.bind(e),"preprocess"===d.type){let a=d.transform(c.data,e);if(c.common.async)return Promise.resolve(a).then(async a=>{if("aborted"===b.value)return cz;let d=await this._def.schema._parseAsync({data:a,path:c.path,parent:c});return"aborted"===d.status?cz:"dirty"===d.status||"dirty"===b.value?cA(d.value):d});{if("aborted"===b.value)return cz;let d=this._def.schema._parseSync({data:a,path:c.path,parent:c});return"aborted"===d.status?cz:"dirty"===d.status||"dirty"===b.value?cA(d.value):d}}if("refinement"===d.type){let a=a=>{let b=d.refinement(a,e);if(c.common.async)return Promise.resolve(b);if(b instanceof Promise)throw Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(!1!==c.common.async)return this._def.schema._parseAsync({data:c.data,path:c.path,parent:c}).then(c=>"aborted"===c.status?cz:("dirty"===c.status&&b.dirty(),a(c.value).then(()=>({status:b.value,value:c.value}))));{let d=this._def.schema._parseSync({data:c.data,path:c.path,parent:c});return"aborted"===d.status?cz:("dirty"===d.status&&b.dirty(),a(d.value),{status:b.value,value:d.value})}}if("transform"===d.type)if(!1!==c.common.async)return this._def.schema._parseAsync({data:c.data,path:c.path,parent:c}).then(a=>"valid"!==a.status?cz:Promise.resolve(d.transform(a.value,e)).then(a=>({status:b.value,value:a})));else{let a=this._def.schema._parseSync({data:c.data,path:c.path,parent:c});if("valid"!==a.status)return cz;let f=d.transform(a.value,e);if(f instanceof Promise)throw Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:b.value,value:f}}k.assertNever(d)}}dq.create=(a,b,c)=>new dq({schema:a,typeName:n.ZodEffects,effect:b,...cF(c)}),dq.createWithPreprocess=(a,b,c)=>new dq({schema:b,effect:{type:"preprocess",transform:a},typeName:n.ZodEffects,...cF(c)});class dr extends cG{_parse(a){return this._getType(a)===cn.undefined?cB(void 0):this._def.innerType._parse(a)}unwrap(){return this._def.innerType}}dr.create=(a,b)=>new dr({innerType:a,typeName:n.ZodOptional,...cF(b)});class ds extends cG{_parse(a){return this._getType(a)===cn.null?cB(null):this._def.innerType._parse(a)}unwrap(){return this._def.innerType}}ds.create=(a,b)=>new ds({innerType:a,typeName:n.ZodNullable,...cF(b)});class dt extends cG{_parse(a){let{ctx:b}=this._processInputParams(a),c=b.data;return b.parsedType===cn.undefined&&(c=this._def.defaultValue()),this._def.innerType._parse({data:c,path:b.path,parent:b})}removeDefault(){return this._def.innerType}}dt.create=(a,b)=>new dt({innerType:a,typeName:n.ZodDefault,defaultValue:"function"==typeof b.default?b.default:()=>b.default,...cF(b)});class du extends cG{_parse(a){let{ctx:b}=this._processInputParams(a),c={...b,common:{...b.common,issues:[]}},d=this._def.innerType._parse({data:c.data,path:c.path,parent:{...c}});return cC(d)?d.then(a=>({status:"valid",value:"valid"===a.status?a.value:this._def.catchValue({get error(){return new cq(c.common.issues)},input:c.data})})):{status:"valid",value:"valid"===d.status?d.value:this._def.catchValue({get error(){return new cq(c.common.issues)},input:c.data})}}removeCatch(){return this._def.innerType}}du.create=(a,b)=>new du({innerType:a,typeName:n.ZodCatch,catchValue:"function"==typeof b.catch?b.catch:()=>b.catch,...cF(b)});class dv extends cG{_parse(a){if(this._getType(a)!==cn.nan){let b=this._getOrReturnCtx(a);return cx(b,{code:cp.invalid_type,expected:cn.nan,received:b.parsedType}),cz}return{status:"valid",value:a.data}}}dv.create=a=>new dv({typeName:n.ZodNaN,...cF(a)}),Symbol("zod_brand");class dw extends cG{_parse(a){let{ctx:b}=this._processInputParams(a),c=b.data;return this._def.type._parse({data:c,path:b.path,parent:b})}unwrap(){return this._def.type}}class dx extends cG{_parse(a){let{status:b,ctx:c}=this._processInputParams(a);if(c.common.async)return(async()=>{let a=await this._def.in._parseAsync({data:c.data,path:c.path,parent:c});return"aborted"===a.status?cz:"dirty"===a.status?(b.dirty(),cA(a.value)):this._def.out._parseAsync({data:a.value,path:c.path,parent:c})})();{let a=this._def.in._parseSync({data:c.data,path:c.path,parent:c});return"aborted"===a.status?cz:"dirty"===a.status?(b.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:c.path,parent:c})}}static create(a,b){return new dx({in:a,out:b,typeName:n.ZodPipeline})}}class dy extends cG{_parse(a){let b=this._def.innerType._parse(a),c=a=>("valid"===a.status&&(a.value=Object.freeze(a.value)),a);return cC(b)?b.then(a=>c(a)):c(b)}unwrap(){return this._def.innerType}}dy.create=(a,b)=>new dy({innerType:a,typeName:n.ZodReadonly,...cF(b)}),c9.lazycreate,function(a){a.ZodString="ZodString",a.ZodNumber="ZodNumber",a.ZodNaN="ZodNaN",a.ZodBigInt="ZodBigInt",a.ZodBoolean="ZodBoolean",a.ZodDate="ZodDate",a.ZodSymbol="ZodSymbol",a.ZodUndefined="ZodUndefined",a.ZodNull="ZodNull",a.ZodAny="ZodAny",a.ZodUnknown="ZodUnknown",a.ZodNever="ZodNever",a.ZodVoid="ZodVoid",a.ZodArray="ZodArray",a.ZodObject="ZodObject",a.ZodUnion="ZodUnion",a.ZodDiscriminatedUnion="ZodDiscriminatedUnion",a.ZodIntersection="ZodIntersection",a.ZodTuple="ZodTuple",a.ZodRecord="ZodRecord",a.ZodMap="ZodMap",a.ZodSet="ZodSet",a.ZodFunction="ZodFunction",a.ZodLazy="ZodLazy",a.ZodLiteral="ZodLiteral",a.ZodEnum="ZodEnum",a.ZodEffects="ZodEffects",a.ZodNativeEnum="ZodNativeEnum",a.ZodOptional="ZodOptional",a.ZodNullable="ZodNullable",a.ZodDefault="ZodDefault",a.ZodCatch="ZodCatch",a.ZodPromise="ZodPromise",a.ZodBranded="ZodBranded",a.ZodPipeline="ZodPipeline",a.ZodReadonly="ZodReadonly"}(n||(n={}));let dz=cY.create;cZ.create,dv.create,c$.create,c_.create,c0.create,c1.create,c2.create,c3.create,c4.create,c5.create,c6.create,c7.create,c8.create;let dA=c9.create;c9.strictCreate,da.create,dc.create,dd.create,de.create,df.create,dg.create,dh.create,di.create,dj.create,dk.create,dm.create,dn.create,dp.create,dq.create,dr.create,ds.create,dq.createWithPreprocess,dx.create;let dB=cs({hello:ct.input(dA({text:dz()})).query(({input:a})=>({greeting:`Hello ${a.text}`})),getAll:ct.query(()=>[{id:1,name:"Example 1"},{id:2,name:"Example 2"}]),getSecretMessage:cu.query(()=>"you can now see this secret message!")}),dC=cs({example:dB}),dD=a=>bv({endpoint:"/api/trpc",req:a,router:dC,createContext:()=>({session:null}),onError:void 0}),dE=new p.AppRouteRouteModule({definition:{kind:q.RouteKind.APP_ROUTE,page:"/api/trpc/[trpc]/route",pathname:"/api/trpc/[trpc]",filename:"route",bundlePath:"app/api/trpc/[trpc]/route"},distDir:".next",relativeProjectDir:"",resolvedPagePath:"/home/kareem/gcmc-kaj-platform/src/app/api/trpc/[trpc]/route.ts",nextConfigOutput:"",userland:o}),{workAsyncStorage:dF,workUnitAsyncStorage:dG,serverHooks:dH}=dE;function dI(){return(0,r.patchFetch)({workAsyncStorage:dF,workUnitAsyncStorage:dG})}async function dJ(a,b,c){var d;let e="/api/trpc/[trpc]/route";"/index"===e&&(e="/");let f=await dE.prepare(a,b,{srcPage:e,multiZoneDraftMode:!1});if(!f)return b.statusCode=400,b.end("Bad Request"),null==c.waitUntil||c.waitUntil.call(c,Promise.resolve()),null;let{buildId:g,params:h,nextConfig:i,isDraftMode:j,prerenderManifest:k,routerServerContext:l,isOnDemandRevalidate:m,revalidateOnlyGenerated:n,resolvedPathname:o}=f,p=(0,u.normalizeAppPath)(e),r=!!(k.dynamicRoutes[p]||k.routes[o]);if(r&&!j){let a=!!k.routes[o],b=k.dynamicRoutes[p];if(b&&!1===b.fallback&&!a)throw new D.NoFallbackError}let F=null;!r||dE.isDev||j||(F="/index"===(F=o)?"/":F);let G=!0===dE.isDev||!r,H=r&&!G,I=a.method||"GET",J=(0,t.getTracer)(),K=J.getActiveScopeSpan(),L={params:h,prerenderManifest:k,renderOpts:{experimental:{cacheComponents:!!i.experimental.cacheComponents,authInterrupts:!!i.experimental.authInterrupts},supportsDynamicResponse:G,incrementalCache:(0,s.getRequestMeta)(a,"incrementalCache"),cacheLifeProfiles:null==(d=i.experimental)?void 0:d.cacheLife,isRevalidate:H,waitUntil:c.waitUntil,onClose:a=>{b.on("close",a)},onAfterTaskError:void 0,onInstrumentationRequestError:(b,c,d)=>dE.onRequestError(a,b,d,l)},sharedContext:{buildId:g}},M=new v.NodeNextRequest(a),N=new v.NodeNextResponse(b),O=w.NextRequestAdapter.fromNodeNextRequest(M,(0,w.signalFromNodeResponse)(b));try{let d=async c=>dE.handle(O,L).finally(()=>{if(!c)return;c.setAttributes({"http.status_code":b.statusCode,"next.rsc":!1});let d=J.getRootSpanAttributes();if(!d)return;if(d.get("next.span_type")!==x.BaseServerSpan.handleRequest)return void console.warn(`Unexpected root span type '${d.get("next.span_type")}'. Please report this Next.js issue https://github.com/vercel/next.js`);let e=d.get("next.route");if(e){let a=`${I} ${e}`;c.setAttributes({"next.route":e,"http.route":e,"next.span_name":a}),c.updateName(a)}else c.updateName(`${I} ${a.url}`)}),f=async f=>{var g,h;let o=async({previousCacheEntry:g})=>{try{if(!(0,s.getRequestMeta)(a,"minimalMode")&&m&&n&&!g)return b.statusCode=404,b.setHeader("x-nextjs-cache","REVALIDATED"),b.end("This page could not be found"),null;let e=await d(f);a.fetchMetrics=L.renderOpts.fetchMetrics;let h=L.renderOpts.pendingWaitUntil;h&&c.waitUntil&&(c.waitUntil(h),h=void 0);let i=L.renderOpts.collectedTags;if(!r)return await (0,z.I)(M,N,e,L.renderOpts.pendingWaitUntil),null;{let a=await e.blob(),b=(0,A.toNodeOutgoingHttpHeaders)(e.headers);i&&(b[C.NEXT_CACHE_TAGS_HEADER]=i),!b["content-type"]&&a.type&&(b["content-type"]=a.type);let c=void 0!==L.renderOpts.collectedRevalidate&&!(L.renderOpts.collectedRevalidate>=C.INFINITE_CACHE)&&L.renderOpts.collectedRevalidate,d=void 0===L.renderOpts.collectedExpire||L.renderOpts.collectedExpire>=C.INFINITE_CACHE?void 0:L.renderOpts.collectedExpire;return{value:{kind:E.CachedRouteKind.APP_ROUTE,status:e.status,body:Buffer.from(await a.arrayBuffer()),headers:b},cacheControl:{revalidate:c,expire:d}}}}catch(b){throw(null==g?void 0:g.isStale)&&await dE.onRequestError(a,b,{routerKind:"App Router",routePath:e,routeType:"route",revalidateReason:(0,y.c)({isRevalidate:H,isOnDemandRevalidate:m})},l),b}},p=await dE.handleResponse({req:a,nextConfig:i,cacheKey:F,routeKind:q.RouteKind.APP_ROUTE,isFallback:!1,prerenderManifest:k,isRoutePPREnabled:!1,isOnDemandRevalidate:m,revalidateOnlyGenerated:n,responseGenerator:o,waitUntil:c.waitUntil});if(!r)return null;if((null==p||null==(g=p.value)?void 0:g.kind)!==E.CachedRouteKind.APP_ROUTE)throw Object.defineProperty(Error(`Invariant: app-route received invalid cache entry ${null==p||null==(h=p.value)?void 0:h.kind}`),"__NEXT_ERROR_CODE",{value:"E701",enumerable:!1,configurable:!0});(0,s.getRequestMeta)(a,"minimalMode")||b.setHeader("x-nextjs-cache",m?"REVALIDATED":p.isMiss?"MISS":p.isStale?"STALE":"HIT"),j&&b.setHeader("Cache-Control","private, no-cache, no-store, max-age=0, must-revalidate");let t=(0,A.fromNodeOutgoingHttpHeaders)(p.value.headers);return(0,s.getRequestMeta)(a,"minimalMode")&&r||t.delete(C.NEXT_CACHE_TAGS_HEADER),!p.cacheControl||b.getHeader("Cache-Control")||t.get("Cache-Control")||t.set("Cache-Control",(0,B.getCacheControlHeader)(p.cacheControl)),await (0,z.I)(M,N,new Response(p.value.body,{headers:t,status:p.value.status||200})),null};K?await f(K):await J.withPropagatedContext(a.headers,()=>J.trace(x.BaseServerSpan.handleRequest,{spanName:`${I} ${a.url}`,kind:t.SpanKind.SERVER,attributes:{"http.method":I,"http.target":a.url}},f))}catch(b){if(b instanceof D.NoFallbackError||await dE.onRequestError(a,b,{routerKind:"App Router",routePath:p,routeType:"route",revalidateReason:(0,y.c)({isRevalidate:H,isOnDemandRevalidate:m})}),r)throw b;return await (0,z.I)(M,N,new Response(null,{status:500})),null}}},91645:a=>{"use strict";a.exports=require("net")},94735:a=>{"use strict";a.exports=require("events")},96487:()=>{}};var b=require("../../../../webpack-runtime.js");b.C(a);var c=b.X(0,[520,100],()=>b(b.s=88452));module.exports=c})();